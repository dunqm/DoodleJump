var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

var _GameControl = require("./script/GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

var _LoadingPage = require("./script/LoadingPage/LoadingPage");

var _LoadingPage2 = _interopRequireDefault(_LoadingPage);

var _groundBox = require("./script/groundBox");

var _groundBox2 = _interopRequireDefault(_groundBox);

var _JetpackBox = require("./script/prop/JetpackBox");

var _JetpackBox2 = _interopRequireDefault(_JetpackBox);

var _PropellerBox = require("./script/prop/PropellerBox");

var _PropellerBox2 = _interopRequireDefault(_PropellerBox);

var _SpringBox = require("./script/prop/SpringBox");

var _SpringBox2 = _interopRequireDefault(_SpringBox);

var _hopBox = require("./script/hopBox");

var _hopBox2 = _interopRequireDefault(_hopBox);

var _likBox = require("./script/likBox");

var _likBox2 = _interopRequireDefault(_likBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("script/GameUI.js", _GameUI2.default);
												reg("script/GameControl.js", _GameControl2.default);
												reg("script/LoadingPage/LoadingPage.js", _LoadingPage2.default);
												reg("script/groundBox.js", _groundBox2.default);
												reg("script/prop/JetpackBox.js", _JetpackBox2.default);
												reg("script/prop/PropellerBox.js", _PropellerBox2.default);
												reg("script/prop/SpringBox.js", _SpringBox2.default);
												reg("script/hopBox.js", _hopBox2.default);
												reg("script/likBox.js", _likBox2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1024;
GameConfig.scaleMode = "noscale";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "center";
GameConfig.startScene = "game/GameStart.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./script/GameControl":3,"./script/GameUI":4,"./script/LoadingPage/LoadingPage":5,"./script/groundBox":6,"./script/hopBox":7,"./script/likBox":8,"./script/prop/JetpackBox":9,"./script/prop/PropellerBox":10,"./script/prop/SpringBox":11}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

var _layaMaxUI = require("./ui/layaMaxUI");

var _layaMaxUI2 = _interopRequireDefault(_layaMaxUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			Laya.Scene.load("game/LoadingPage.scene", Laya.Handler.create(this, this.LoadScene));
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}, {
		key: "LoadScene",
		value: function LoadScene(scene) {
			Laya.Scene.setLoadingPage(scene);
			Laya.Scene.showLoadingPage(null, 0);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1,"./ui/layaMaxUI":12}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameUI = require("./GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
主要对GameBox的控制
此类型主要控制游戏中物体(如主角、地板)的创建与删除
画面(物理世界)的移动
积分的计算

*/

var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:groundBox,tips:"地板对象",type:Prefab}*/
    /** @prop {name:likBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:hopBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:PropellerBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:SpringBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:JetpackBox,tips:"道具对象",type:Prefab}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));

        GameControl.instance = _this;
        return _this;
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            //DebugPanel.init();
            this._started = false;

            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            //需要创建绿地的最高位置(设置为负值意味着还未显示提前加载)
            this._Ground_max = -100;
            //两绿地垂直最高距离(或人物跳跃最高高度)
            this.gorund_apart_height = 110;

            //画面移动时的缓动开关
            this._tween = true;
            this._rig = this.owner.getComponent(Laya.RigidBody);

            //将physicsDebug的绘画范围改为物理世界(GameBox)，同时更改对应代码(laya.physics.js:3639)
            this._debug = Laya["PhysicsDebugDraw"].enable();
            this._isdebug = false;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            if (this._isdebug) {
                this.owner.removeChild(this._debug);
                this._isdebug = false;
            } else {
                this.owner.addChild(this._debug);
                this._isdebug = true;
            }
        }
    }, {
        key: "createGround",
        value: function createGround() {
            var types = this.createGroundType();
            while (this.Ground_max > -this.owner.y + this._Ground_max) {
                var Ground_y = this.Ground_max - Math.random() * this.gorund_apart_height - 34;
                var Ground_x = Math.random() * (Laya.stage.width - 120);

                var ground = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
                ground.pos(Ground_x, Ground_y);
                var type = types[Math.floor(Math.random() * types.length)];
                //brown类型的地板属于额外地板类型
                if (type == 2) if (this.broken == 1) {
                    this.broken = 0;
                    type = 0;
                } else {
                    this.broken = 1;
                }
                this.Ground_max = Ground_y;
                //ground.GroundType_into(type);
                ground._components[2].GroundType_into(type);
                this.owner.addChild(ground);

                //随机在地板上创建道具
                if (type == 0 && Math.random() > 0.5) {
                    this.createProp(Ground_x, Ground_y);
                }
            }
        }

        /**
         * 根据分数给出地板类型规律的数组
         * 0: green
         * 1: blue
         * 2: brown
         * 3: white
         * 4: tan
         */

    }, {
        key: "createGroundType",
        value: function createGroundType() {
            var score = _GameUI2.default.instance.getScore();
            var types = [];
            if (score >= 5000) types = [1, 2, 3, 3, 4, 4, 4];else if (score >= 3500 && score < 5000) types = [1, 1, 2, 3, 3, 3, 4, 4];else if (score >= 2000 && score < 3500) types = [1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3];else if (score >= 1000 && score < 2000) types = [1, 1, 1, 2, 2, 2, 2, 2];else if (score >= 500 && score < 1000) types = [0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2];else if (score >= 100 && score < 500) types = [0, 0, 0, 0, 1, 1];else types = [0];
            return types;
        }
        //创建道具

    }, {
        key: "createProp",
        value: function createProp(x, y) {
            var randomNumber = Math.random();
            var prop;
            if (randomNumber > 0.9) {
                prop = Laya.Pool.getItemByCreateFun("JetpackBox", this.JetpackBox.create, this.JetpackBox);
                prop.pos(x + Math.random() * 70 + 10, y - 85);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.8) {
                prop = Laya.Pool.getItemByCreateFun("PropellerBox", this.PropellerBox.create, this.PropellerBox);
                prop.pos(x + Math.random() * 70 + 10, y - 54);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.5) {
                prop = Laya.Pool.getItemByCreateFun("SpringBox", this.SpringBox.create, this.SpringBox);
                prop.pos(x + Math.random() * 70 + 10, y - 50);
                this.owner.addChild(prop);
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果主角达到屏幕一半高度时界面向下移动
            if (this._started) {
                if (this.protagonist._y < -this.owner.y + Laya.stage.height / 3) {

                    if (this._tween) {
                        this._tween = false;
                        this._rig.setVelocity({ x: 0, y: 10 });
                    }

                    //this.owner.y += 5;
                    _GameUI2.default.instance.addScore(1);
                    this.createGround();
                } else {
                    this._rig.setVelocity({ x: 0, y: 0 });
                    this._tween = true;
                }
            }
        }
    }, {
        key: "tween_run",
        value: function tween_run() {
            this._tween = true;
        }
    }, {
        key: "startGame",
        value: function startGame() {
            if (this._started) return;
            this._started = true;
            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            this.owner.y = 0;
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            if (this._isdebug) this.owner.addChild(this._debug);
            //创建主角(likBox/hopBox)
            this.protagonist = Laya.Pool.getItemByCreateFun("likBox", this.likBox.create, this.likBox);
            this.protagonist.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            this.owner.addChild(this.protagonist);

            //创建草地
            var ground = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
            ground.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            ground._components[2].GroundType_into(0);
            this.owner.addChild(ground);
            this.createGround();
        }
    }, {
        key: "endGame",
        value: function endGame() {
            Laya.Tween.to(this.owner, { y: this.owner.y - 800 }, 100);
            this._started = false;
            _GameUI2.default.instance.endGame();
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"./GameUI":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 主要对场景GameStart的控制，
 * 积分的显示，背景图片调节，游戏框体
*/
var GameUI = function (_Laya$Scene) {
    _inherits(GameUI, _Laya$Scene);

    function GameUI() {
        _classCallCheck(this, GameUI);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

        GameUI.instance = _this;
        //关闭多点触控
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }

    _createClass(GameUI, [{
        key: "onEnable",
        value: function onEnable() {
            //戏控制脚本引用，避免每次获取组件带来不必要的性能开销
            //this._control = this.getComponent(GameControl);

            //背景图片大小自适应屏幕
            this._bckImg = this._children[0];
            this._bckImg.width = Laya.stage.width;
            this._bckImg.height = Laya.stage.height;

            //位图字体的使用
            this.mFontName = "font";
            this.mBitmapFont = new Laya.BitmapFont();
            this.mBitmapFont.loadFont("bitmapFont/font.fnt", new Laya.Handler(this, this.onLoaded));
            //高度(分数)
            this.score = 0;
            this.score_text = this._children[2];

            //将物理世界指定为Gamebo
            this._gameBox = this._children[1];
            Laya.Physics.I.worldRoot = this._gameBox;
            //开始游戏按钮
            this.playButton.on(Laya.Event.CLICK, this, this.startGame);
            //碰撞框显示
            this.debug.on(Laya.Event.CLICK, this, this.isdebug);
        }
    }, {
        key: "onLoaded",
        value: function onLoaded() {
            this.init();
        }
    }, {
        key: "init",
        value: function init() {
            //如果位图字体中，没放空格，最好设置一个空格宽度
            //this.mBitmapFont.setSpaceWidth(10);
            Laya.Text.registerBitmapFont(this.mFontName, this.mBitmapFont);
            this.score_text.font = this.mFontName;
        }

        /* 增加分数 */

    }, {
        key: "addScore",
        value: function addScore(value) {
            this.score += value;
            this.score_text.text = this.score;
        }
    }, {
        key: "getScore",
        value: function getScore() {
            return this.score;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            this._gameBox._components[0].isdebug();
        }
        /* 开始游戏 */

    }, {
        key: "startGame",
        value: function startGame() {
            this.score = 0;
            this.score_text.text = this.score;
            this.playButton.visible = false;
            this.gameTilte.visible = false;
            this.gameTilte.texture = "game-tiles-interface/race-over.png";
            this._gameBox._components[0].startGame();
        }

        /* 停止游戏 */

    }, {
        key: "endGame",
        value: function endGame() {
            this.playButton.visible = true;
            this.gameTilte.visible = true;
            //this._control.stopGame();
        }
    }]);

    return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./GameControl":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 预加载页面
 */
var LoadingPage = function (_Laya$Scene) {
    _inherits(LoadingPage, _Laya$Scene);

    function LoadingPage() {
        _classCallCheck(this, LoadingPage);

        return _possibleConstructorReturn(this, (LoadingPage.__proto__ || Object.getPrototypeOf(LoadingPage)).call(this));
    }

    _createClass(LoadingPage, [{
        key: "onEnable",
        value: function onEnable() {

            //背景图片大小自适应屏幕
            this._bckImg = this.getChildByName('bckImg');
            this._bckImg.width = Laya.stage.width;
            this._bckImg.height = Laya.stage.height;
            //显示进度文字
            this.text = new Laya.Text();
            this.text.font = "Impact";
            this.text.text = "0%";
            this.text.fontSize = 60;
            this.text.color = "#333";
            this.text.x = Laya.stage.width - this.text.width >> 1;
            this.text.y = (Laya.stage.height - this.text.height >> 1) - 120;
            this.addChild(this.text);
            //显示进度条
            this.sp = new Laya.Sprite();
            this.addChild(this.sp);
            this.sp.graphics.drawRect(120, Laya.stage.height >> 1, 0, 50, "#333");
            this.on(Laya.Event.PROGRESS, this, this.onProgress);
        }
    }, {
        key: "onDestroy",
        value: function onDestroy() {
            this.off(Laya.Event.PROGRESS, this, this.onProgress);
        }
    }, {
        key: "onProgress",
        value: function onProgress(progress) {
            this.sp.graphics.clear();
            this.sp.graphics.drawRect(120, Laya.stage.height >> 1, progress * 400, 50, "#333");
            this.text.text = (progress * 100).toFixed(2) + "%";
        }
    }]);

    return LoadingPage;
}(Laya.Scene);

exports.default = LoadingPage;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var groundBox = function (_Laya$Script) {
    _inherits(groundBox, _Laya$Script);

    /** @prop {name:brown-ani,tips:"动画资源",type:Res}*/
    /** @prop {name:tan-ani,tips:"动画资源",type:Res}*/

    function groundBox() {
        _classCallCheck(this, groundBox);

        return _possibleConstructorReturn(this, (groundBox.__proto__ || Object.getPrototypeOf(groundBox)).call(this));
    }

    _createClass(groundBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //反弹速度
            this.jump_height = -25;
            //加载相应类型的地板图片
            this.owner.texture = "game-tiles/ground-" + this.ground_type + ".png";
            this.GroundType_onEnable();
        }
    }, {
        key: "GroundType_into",
        value: function GroundType_into() {
            var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

            var ground_typeAll = ["green", "blue", "brown", "white", "tan"];
            this.ground_type = ground_typeAll[type];
        }

        //针对不同类型的地板进行不同的初始化

    }, {
        key: "GroundType_onEnable",
        value: function GroundType_onEnable() {
            switch (this.ground_type) {
                case "blue":
                    this._rig.setVelocity({ x: -5, y: 0 });
                    break;

                case "tan":
                    this.ani_play = true;
                    break;
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //针对不同类型地板的不同事件
            if (this.ground_type == "blue") {
                if (this.owner.x <= 0) {
                    this._rig.setVelocity({ x: 5, y: 0 });
                } else if (this.owner.x >= Laya.stage.width - this.owner.width) {
                    this._rig.setVelocity({ x: -5, y: 0 });
                }
            } else if (this.ground_type == "tan" && this.ani_play) {
                if (this.owner.y > -this.owner._parent.y + Laya.stage.height / 4) {
                    this.ani_play = false;
                    var tan = Laya.Pool.getItemByCreateFun("tan", this.createTan, this);
                    tan.pos(0, 0);
                    this.owner.addChild(tan);
                    tan.play(0, false);
                    this.owner.texture = null;
                }
            }

            //如果地板超出屏幕，移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    switch (this.ground_type) {
                        case "white":
                            this.owner.removeSelf();
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        case "brown":
                            var brown = Laya.Pool.getItemByCreateFun("brown", this.createBrown, this);
                            brown.pos(0, 0);
                            this.owner.addChild(brown);
                            brown.play(0, false);
                            this.owner.texture = null;
                            this._rig.setVelocity({ x: 0, y: 10 });
                            break;

                        case "tan":
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        default:
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                    }
                }
            }
        }

        /**
         * 使用对象池创建brown地板动画
         */

    }, {
        key: "createBrown",
        value: function createBrown() {
            var ani = new Laya.Animation();
            ani.loadAnimation("ani/ground_brown.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("brown", ani);
            }
            return ani;
        }

        /**
         * 使用对象池创建tan地板动画 
         */

    }, {
        key: "createTan",
        value: function createTan() {
            var ani = new Laya.Animation();
            var Me = this;
            ani.loadAnimation("ani/ground_tan.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("tan", ani);
            }
            ani.on(Laya.Event.COMPLETE, null, complete);
            function complete() {
                Me.owner.removeSelf();
            }
            return ani;
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("groundBox", this.owner);
        }
    }]);

    return groundBox;
}(Laya.Script);

exports.default = groundBox;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var hopBox = function (_Laya$Script) {
    _inherits(hopBox, _Laya$Script);

    function hopBox() {
        _classCallCheck(this, hopBox);

        return _possibleConstructorReturn(this, (hopBox.__proto__ || Object.getPrototypeOf(hopBox)).call(this));
    }

    _createClass(hopBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            //跳跃高度
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "hop/hop-" + this.fx + "-touch.png";
                }
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent._y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            if (this._rig.linearVelocity.y > 0) {
                this.owner.texture = "hop/hop-" + this.fx + "-fall.png";
            } else {
                this.owner.texture = "hop/hop-" + this.fx + "-jump.png";
            }
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return hopBox;
}(Laya.Script);

exports.default = hopBox;

},{"./GameControl":3}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var likBox = function (_Laya$Script) {
    _inherits(likBox, _Laya$Script);

    function likBox() {
        _classCallCheck(this, likBox);

        return _possibleConstructorReturn(this, (likBox.__proto__ || Object.getPrototypeOf(likBox)).call(this));
    }

    _createClass(likBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            this.lik_right = "lik/lik-right.png";
            this.lik_left = "lik/lik-left.png";
            //跳跃高度(x = 281.25, g = 55.55555555555556)
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });
            //记录鼠标移动前的位置
            this.now_mouse_x = null;

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    instance.owner.texture = Velocity_x > 0 ? instance.lik_right : instance.lik_left;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "lik/lik-" + this.fx + "-odskok.png";
                }
            }
        }

        /*
        onStageMouseDown(){
            this.now_mouse_x = Laya.stage.mouseX;
        }
          onStageMouseUp(){
            this.now_mouse_x = null;
        }
        */

    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            /*
            //鼠标控制方向
            if(this.now_mouse_x != null){
                let Velocity_x = this._rig.linearVelocity.x + (Laya.stage.mouseX-this.now_mouse_x)/Laya.stage.width*30;
                this.owner.texture = Velocity_x  > 0 ? this.lik_right : this.lik_left;
                let Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this.now_mouse_x = Laya.stage.mouseX;
                this._rig.linearVelocity = Velocity;
            }
            */
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                this.owner.texture = Velocity_x > 0 ? this.lik_right : this.lik_left;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return likBox;
}(Laya.Script);

exports.default = likBox;

},{"./GameControl":3}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var JetpackBox = function (_Laya$Script) {
    _inherits(JetpackBox, _Laya$Script);

    /** @prop {name:Jetpack-ani,tips:"动画资源",type:Res}*/

    function JetpackBox() {
        _classCallCheck(this, JetpackBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (JetpackBox.__proto__ || Object.getPrototypeOf(JetpackBox)).call(this));

        _this.ground_type = "jetpack";
        return _this;
    }

    _createClass(JetpackBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            this.owner.texture = "game-tiles/prop-jetpack.png";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    if (Velocity_x > 0 && !instance._first) instance.isRight();else instance.isLeft();
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var jetpack = Laya.Pool.getItemByCreateFun("jetpack", this.createJetpack, this);
                jetpack.pos(0, 0);
                this.owner.addChild(jetpack);
                jetpack.play(0, true);
                this.owner.texture = null;

                this.owner.x = other.owner.x + 70;
                this.owner.y = other.owner.y + 26;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createJetpack",
        value: function createJetpack() {
            var ani = new Laya.Animation();
            ani.loadAnimation("ani/prop_jetpack.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("jetpack", ani);
            }
            return ani;
        }
    }, {
        key: "isLeft",
        value: function isLeft() {
            this.owner.skewY = 0;
            //this.owner.x = other.owner.x + 70;
        }
    }, {
        key: "isRight",
        value: function isRight() {
            this.owner.skewY = 180;
            //this.owner.x = other.owner.x + 52;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-jetpack-10.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("JetpackBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                if (Velocity_x > 0 && !this._first) this.isRight();else this.isLeft();
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return JetpackBox;
}(Laya.Script);

exports.default = JetpackBox;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PropellerBox = function (_Laya$Script) {
    _inherits(PropellerBox, _Laya$Script);

    /** @prop {name:Propeller-ani,tips:"动画资源",type:Res}*/

    function PropellerBox() {
        _classCallCheck(this, PropellerBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (PropellerBox.__proto__ || Object.getPrototypeOf(PropellerBox)).call(this));

        _this.ground_type = "propeller";
        return _this;
    }

    _createClass(PropellerBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var propeller = Laya.Pool.getItemByCreateFun("propeller", this.createPropeller, this);
                propeller.pos(0, 0);
                this.owner.addChild(propeller);
                propeller.play(0, true);
                this.owner.texture = null;

                this.owner.x = other.owner.x + 29;
                this.owner.y = other.owner.y - 18;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createPropeller",
        value: function createPropeller() {
            var ani = new Laya.Animation();
            ani.loadAnimation("ani/prop_propeller.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("propeller", ani);
            }
            return ani;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-propeller.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("PropellerBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return PropellerBox;
}(Laya.Script);

exports.default = PropellerBox;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SpringBox = function (_Laya$Script) {
    _inherits(SpringBox, _Laya$Script);

    function SpringBox() {
        _classCallCheck(this, SpringBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (SpringBox.__proto__ || Object.getPrototypeOf(SpringBox)).call(this));

        _this.ground_type = "spring";
        return _this;
    }

    _createClass(SpringBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this.owner.texture = "game-tiles/prop-Spring-Compression.png";
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    this.owner.texture = "game-tiles/prop-Spring-Extended.png";
                    other.rigidBody.setVelocity({ x: 0, y: -40 });
                }
            }
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("SpringBox", this.owner);
        }
    }]);

    return SpringBox;
}(Laya.Script);

exports.default = SpringBox;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var CLASS$ = Laya.class;
var STATICATTR$ = Laya.static;
var View = laya.ui.View;
var Dialog = laya.ui.Dialog;
var Scene = Laya.Scene;
if (!window.ui) window.ui = {};
exports.default = ui;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLmpzIiwic3JjL01haW4uanMiLCJzcmMvc2NyaXB0L0dhbWVDb250cm9sLmpzIiwic3JjL3NjcmlwdC9HYW1lVUkuanMiLCJzcmMvc2NyaXB0L0xvYWRpbmdQYWdlL0xvYWRpbmdQYWdlLmpzIiwic3JjL3NjcmlwdC9ncm91bmRCb3guanMiLCJzcmMvc2NyaXB0L2hvcEJveC5qcyIsInNyYy9zY3JpcHQvbGlrQm94LmpzIiwic3JjL3NjcmlwdC9wcm9wL0pldHBhY2tCb3guanMiLCJzcmMvc2NyaXB0L3Byb3AvUHJvcGVsbGVyQm94LmpzIiwic3JjL3NjcmlwdC9wcm9wL1NwcmluZ0JveC5qcyIsInNyYy91aS9sYXlhTWF4VUkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztxakJDVkE7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7Ozs7OzsrQkFDSDtBQUNWO0FBQ0EsZ0JBQUksTUFBTSxLQUFLLFVBQUwsQ0FBZ0IsUUFBMUI7QUFDTixnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSx1QkFBSixFQUE0QixxQkFBNUI7QUFDQSxnQkFBSSxtQ0FBSixFQUF3QyxxQkFBeEM7QUFDQSxnQkFBSSxxQkFBSixFQUEwQixtQkFBMUI7QUFDQSxnQkFBSSwyQkFBSixFQUFnQyxvQkFBaEM7QUFDQSxnQkFBSSw2QkFBSixFQUFrQyxzQkFBbEM7QUFDQSxnQkFBSSwwQkFBSixFQUErQixtQkFBL0I7QUFDQSxnQkFBSSxrQkFBSixFQUF1Qixn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QUFDQSxJQUFJLFFBQU0sS0FBSyxLQUFmO0FBQ0EsSUFBRyxDQUFDLE9BQU8sRUFBWCxFQUFlLE9BQU8sRUFBUCxHQUFVLEVBQVY7UUFDRCxPLEdBQU4sRSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IExvYWRpbmdQYWdlIGZyb20gXCIuL3NjcmlwdC9Mb2FkaW5nUGFnZS9Mb2FkaW5nUGFnZVwiXG5pbXBvcnQgZ3JvdW5kQm94IGZyb20gXCIuL3NjcmlwdC9ncm91bmRCb3hcIlxuaW1wb3J0IEpldHBhY2tCb3ggZnJvbSBcIi4vc2NyaXB0L3Byb3AvSmV0cGFja0JveFwiXG5pbXBvcnQgUHJvcGVsbGVyQm94IGZyb20gXCIuL3NjcmlwdC9wcm9wL1Byb3BlbGxlckJveFwiXG5pbXBvcnQgU3ByaW5nQm94IGZyb20gXCIuL3NjcmlwdC9wcm9wL1NwcmluZ0JveFwiXG5pbXBvcnQgaG9wQm94IGZyb20gXCIuL3NjcmlwdC9ob3BCb3hcIlxuaW1wb3J0IGxpa0JveCBmcm9tIFwiLi9zY3JpcHQvbGlrQm94XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWcge1xyXG4gICAgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgICAgLy/ms6jlhoxTY3JpcHTmiJbogIVSdW50aW1l5byV55SoXHJcbiAgICAgICAgbGV0IHJlZyA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuXHRcdHJlZyhcInNjcmlwdC9HYW1lVUkuanNcIixHYW1lVUkpO1xuXHRcdHJlZyhcInNjcmlwdC9HYW1lQ29udHJvbC5qc1wiLEdhbWVDb250cm9sKTtcblx0XHRyZWcoXCJzY3JpcHQvTG9hZGluZ1BhZ2UvTG9hZGluZ1BhZ2UuanNcIixMb2FkaW5nUGFnZSk7XG5cdFx0cmVnKFwic2NyaXB0L2dyb3VuZEJveC5qc1wiLGdyb3VuZEJveCk7XG5cdFx0cmVnKFwic2NyaXB0L3Byb3AvSmV0cGFja0JveC5qc1wiLEpldHBhY2tCb3gpO1xuXHRcdHJlZyhcInNjcmlwdC9wcm9wL1Byb3BlbGxlckJveC5qc1wiLFByb3BlbGxlckJveCk7XG5cdFx0cmVnKFwic2NyaXB0L3Byb3AvU3ByaW5nQm94LmpzXCIsU3ByaW5nQm94KTtcblx0XHRyZWcoXCJzY3JpcHQvaG9wQm94LmpzXCIsaG9wQm94KTtcblx0XHRyZWcoXCJzY3JpcHQvbGlrQm94LmpzXCIsbGlrQm94KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLndpZHRoID0gNjQwO1xyXG5HYW1lQ29uZmlnLmhlaWdodCA9IDEwMjQ7XHJcbkdhbWVDb25maWcuc2NhbGVNb2RlID1cIm5vc2NhbGVcIjtcclxuR2FtZUNvbmZpZy5zY3JlZW5Nb2RlID0gXCJub25lXCI7XHJcbkdhbWVDb25maWcuYWxpZ25WID0gXCJ0b3BcIjtcclxuR2FtZUNvbmZpZy5hbGlnbkggPSBcImNlbnRlclwiO1xyXG5HYW1lQ29uZmlnLnN0YXJ0U2NlbmUgPSBcImdhbWUvR2FtZVN0YXJ0LnNjZW5lXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnN0YXQgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbiA9IHRydWU7XHJcblxyXG5HYW1lQ29uZmlnLmluaXQoKTtcclxuIiwi77u/aW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgdWkgZnJvbSBcIi4vdWkvbGF5YU1heFVJXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnblYgPSBHYW1lQ29uZmlnLmFsaWduVjtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25IID0gR2FtZUNvbmZpZy5hbGlnbkg7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCkge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRMYXlhLlNjZW5lLmxvYWQoXCJnYW1lL0xvYWRpbmdQYWdlLnNjZW5lXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMuTG9hZFNjZW5lKSk7XHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG5cclxuXHRMb2FkU2NlbmUoc2NlbmUpe1xyXG5cdFx0TGF5YS5TY2VuZS5zZXRMb2FkaW5nUGFnZShzY2VuZSk7XHJcblx0XHRMYXlhLlNjZW5lLnNob3dMb2FkaW5nUGFnZShudWxsLCAwKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuICAgIFxyXG4vKlxyXG7kuLvopoHlr7lHYW1lQm9455qE5o6n5Yi2XHJcbuatpOexu+Wei+S4u+imgeaOp+WItua4uOaIj+S4reeJqeS9kyjlpoLkuLvop5LjgIHlnLDmnb8p55qE5Yib5bu65LiO5Yig6ZmkXHJcbueUu+mdoijniannkIbkuJbnlYwp55qE56e75YqoXHJcbuenr+WIhueahOiuoeeul1xyXG5cclxuKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmdyb3VuZEJveCx0aXBzOlwi5Zyw5p2/5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpsaWtCb3gsdGlwczpcIuinkuiJsuWvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6aG9wQm94LHRpcHM6XCLop5LoibLlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOlByb3BlbGxlckJveCx0aXBzOlwi6YGT5YW35a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpTcHJpbmdCb3gsdGlwczpcIumBk+WFt+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6SmV0cGFja0JveCx0aXBzOlwi6YGT5YW35a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoXHJcbiAgICAgICAgR2FtZUNvbnRyb2wuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgLy9EZWJ1Z1BhbmVsLmluaXQoKTtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8v5b2T5YmN5Yib5bu657u/5Zyw55qE5pyA6auY5L2N572uXHJcbiAgICAgICAgdGhpcy5Hcm91bmRfbWF4ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgLy/pnIDopoHliJvlu7rnu7/lnLDnmoTmnIDpq5jkvY3nva4o6K6+572u5Li66LSf5YC85oSP5ZGz552A6L+Y5pyq5pi+56S65o+Q5YmN5Yqg6L29KVxyXG4gICAgICAgIHRoaXMuX0dyb3VuZF9tYXggPSAtMTAwO1xyXG4gICAgICAgIC8v5Lik57u/5Zyw5Z6C55u05pyA6auY6Led56a7KOaIluS6uueJqei3s+i3g+acgOmrmOmrmOW6pilcclxuICAgICAgICB0aGlzLmdvcnVuZF9hcGFydF9oZWlnaHQgPSAxMTA7XHJcblxyXG4gICAgICAgIC8v55S76Z2i56e75Yqo5pe255qE57yT5Yqo5byA5YWzXHJcbiAgICAgICAgdGhpcy5fdHdlZW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuXHJcbiAgICAgICAgLy/lsIZwaHlzaWNzRGVidWfnmoTnu5jnlLvojIPlm7TmlLnkuLrniannkIbkuJbnlYwoR2FtZUJveCnvvIzlkIzml7bmm7TmlLnlr7nlupTku6PnoIEobGF5YS5waHlzaWNzLmpzOjM2MzkpXHJcbiAgICAgICAgdGhpcy5fZGVidWcgPSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuICAgICAgICB0aGlzLl9pc2RlYnVnID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpc2RlYnVnKCl7XHJcbiAgICAgICAgaWYodGhpcy5faXNkZWJ1Zyl7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGQodGhpcy5fZGVidWcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc2RlYnVnID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fZGVidWcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc2RlYnVnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlR3JvdW5kKCl7XHJcbiAgICAgICAgbGV0IHR5cGVzID0gdGhpcy5jcmVhdGVHcm91bmRUeXBlKCk7XHJcbiAgICAgICAgd2hpbGUodGhpcy5Hcm91bmRfbWF4ID4gLXRoaXMub3duZXIueSArIHRoaXMuX0dyb3VuZF9tYXgpe1xyXG4gICAgICAgICAgICBsZXQgR3JvdW5kX3kgPSAgdGhpcy5Hcm91bmRfbWF4IC0gTWF0aC5yYW5kb20oKSAqIHRoaXMuZ29ydW5kX2FwYXJ0X2hlaWdodCAtIDM0O1xyXG4gICAgICAgICAgICBsZXQgR3JvdW5kX3ggPSBNYXRoLnJhbmRvbSgpICogKExheWEuc3RhZ2Uud2lkdGggLSAxMjApO1xyXG5cclxuICAgICAgICAgICAgbGV0IGdyb3VuZCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJncm91bmRCb3hcIiwgdGhpcy5ncm91bmRCb3guY3JlYXRlLCB0aGlzLmdyb3VuZEJveCk7XHJcbiAgICAgICAgICAgIGdyb3VuZC5wb3MoR3JvdW5kX3gsIEdyb3VuZF95KTtcclxuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXTtcclxuICAgICAgICAgICAgLy9icm93buexu+Wei+eahOWcsOadv+WxnuS6jumineWkluWcsOadv+exu+Wei1xyXG4gICAgICAgICAgICBpZih0eXBlID09IDIpXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYnJva2VuID09IDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5icm9rZW4gPSAwO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IDA7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5icm9rZW4gID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkdyb3VuZF9tYXggPSBHcm91bmRfeTtcclxuICAgICAgICAgICAgLy9ncm91bmQuR3JvdW5kVHlwZV9pbnRvKHR5cGUpO1xyXG4gICAgICAgICAgICBncm91bmQuX2NvbXBvbmVudHNbMl0uR3JvdW5kVHlwZV9pbnRvKHR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGdyb3VuZCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL+maj+acuuWcqOWcsOadv+S4iuWIm+W7uumBk+WFt1xyXG4gICAgICAgICAgICBpZiggdHlwZSA9PSAwICAmJiBNYXRoLnJhbmRvbSgpID4gMC41KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcChHcm91bmRfeCxHcm91bmRfeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7liIbmlbDnu5nlh7rlnLDmnb/nsbvlnovop4TlvovnmoTmlbDnu4RcclxuICAgICAqIDA6IGdyZWVuXHJcbiAgICAgKiAxOiBibHVlXHJcbiAgICAgKiAyOiBicm93blxyXG4gICAgICogMzogd2hpdGVcclxuICAgICAqIDQ6IHRhblxyXG4gICAgICovXHJcbiAgICBjcmVhdGVHcm91bmRUeXBlKCl7XHJcbiAgICAgICAgdmFyIHNjb3JlID0gR2FtZVVJLmluc3RhbmNlLmdldFNjb3JlKCk7XHJcbiAgICAgICAgdmFyIHR5cGVzID0gW107XHJcbiAgICAgICAgaWYgKHNjb3JlID49IDUwMDApIHR5cGVzID0gWzEsIDIsIDMsIDMsIDQsIDQsIDRdO1xyXG4gICAgICAgIGVsc2UgaWYgKHNjb3JlID49IDM1MDAgJiYgc2NvcmUgPCA1MDAwKSB0eXBlcyA9IFsxLCAxLCAyLCAzLCAzLCAzLCA0LCA0XTtcclxuICAgICAgICBlbHNlIGlmIChzY29yZSA+PSAyMDAwICYmIHNjb3JlIDwgMzUwMCkgdHlwZXMgPSBbMSwgMSwgMSwgMiwgMiwgMiwgMiwgMywgMywgMywgM107XHJcbiAgICAgICAgZWxzZSBpZiAoc2NvcmUgPj0gMTAwMCAmJiBzY29yZSA8IDIwMDApIHR5cGVzID0gWzEsIDEsIDEsIDIsIDIsIDIsIDIsIDJdO1xyXG4gICAgICAgIGVsc2UgaWYgKHNjb3JlID49IDUwMCAmJiBzY29yZSA8IDEwMDApIHR5cGVzID0gWzAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDJdO1xyXG4gICAgICAgIGVsc2UgaWYgKHNjb3JlID49IDEwMCAmJiBzY29yZSA8IDUwMCkgdHlwZXMgPSBbMCwgMCwgMCwgMCwgMSwgMV07XHJcbiAgICAgICAgZWxzZSB0eXBlcyA9IFswXTtcclxuICAgICAgICByZXR1cm4gdHlwZXM7XHJcbiAgICB9XHJcbiAgICAvL+WIm+W7uumBk+WFt1xyXG4gICAgY3JlYXRlUHJvcCh4LHkpe1xyXG4gICAgICAgIHZhciByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgIGlmKHJhbmRvbU51bWJlciA+IDAuOSl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiSmV0cGFja0JveFwiLCB0aGlzLkpldHBhY2tCb3guY3JlYXRlLCB0aGlzLkpldHBhY2tCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDcwICsgMTAsIHkgLSA4NSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfWVsc2UgaWYocmFuZG9tTnVtYmVyID49IDAuOCl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiUHJvcGVsbGVyQm94XCIsIHRoaXMuUHJvcGVsbGVyQm94LmNyZWF0ZSwgdGhpcy5Qcm9wZWxsZXJCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDcwICsgMTAsIHkgLSA1NCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfWVsc2UgaWYocmFuZG9tTnVtYmVyID49IDAuNSl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiU3ByaW5nQm94XCIsIHRoaXMuU3ByaW5nQm94LmNyZWF0ZSwgdGhpcy5TcHJpbmdCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDcwICsgMTAsIHkgLSA1MCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIC8v5aaC5p6c5Li76KeS6L6+5Yiw5bGP5bmV5LiA5Y2K6auY5bqm5pe255WM6Z2i5ZCR5LiL56e75YqoXHJcbiAgICAgICAgaWYodGhpcy5fc3RhcnRlZCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucHJvdGFnb25pc3QuX3kgPCAoLXRoaXMub3duZXIueSArIExheWEuc3RhZ2UuaGVpZ2h0IC8gMykpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl90d2Vlbil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHdlZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAxMCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy90aGlzLm93bmVyLnkgKz0gNTtcclxuICAgICAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5hZGRTY29yZSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JvdW5kKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R3ZWVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHR3ZWVuX3J1bigpe1xyXG4gICAgICAgIHRoaXMuX3R3ZWVuID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEdhbWUoKXtcclxuICAgICAgICBpZih0aGlzLl9zdGFydGVkKSByZXR1cm4gO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIC8v5b2T5YmN5Yib5bu657u/5Zyw55qE5pyA6auY5L2N572uXHJcbiAgICAgICAgdGhpcy5Hcm91bmRfbWF4ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5vd25lci55PTA7XHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVDaGlsZHJlbigwLHRoaXMub3duZXIubnVtQ2hpbGRyZW4tMSk7XHJcbiAgICAgICAgaWYodGhpcy5faXNkZWJ1Zyl0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMuX2RlYnVnKTtcclxuICAgICAgICAvL+WIm+W7uuS4u+inkihsaWtCb3gvaG9wQm94KVxyXG4gICAgICAgIHRoaXMucHJvdGFnb25pc3QgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwibGlrQm94XCIsIHRoaXMubGlrQm94LmNyZWF0ZSwgdGhpcy5saWtCb3gpO1xyXG4gICAgICAgIHRoaXMucHJvdGFnb25pc3QucG9zKExheWEuc3RhZ2Uud2lkdGggLyAyLCBMYXlhLnN0YWdlLmhlaWdodCAtIDEwMCk7XHJcbiAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLnByb3RhZ29uaXN0KTtcclxuICAgICAgICBcclxuICAgICAgICAvL+WIm+W7uuiNieWcsFxyXG4gICAgICAgIGxldCBncm91bmQgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZ3JvdW5kQm94XCIsIHRoaXMuZ3JvdW5kQm94LmNyZWF0ZSwgdGhpcy5ncm91bmRCb3gpO1xyXG4gICAgICAgIGdyb3VuZC5wb3MoTGF5YS5zdGFnZS53aWR0aCAvIDIsIExheWEuc3RhZ2UuaGVpZ2h0IC0gMTAwKTtcclxuICAgICAgICBncm91bmQuX2NvbXBvbmVudHNbMl0uR3JvdW5kVHlwZV9pbnRvKDApO1xyXG4gICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQoZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUdyb3VuZCgpO1xyXG4gICAgfVxyXG4gICAgZW5kR2FtZSgpe1xyXG4gICAgICAgIExheWEuVHdlZW4udG8odGhpcy5vd25lciwge3kgOiB0aGlzLm93bmVyLnkgLSA4MDB9LCAxMDApO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UuZW5kR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuXHJcbi8qKlxyXG4gKiDkuLvopoHlr7nlnLrmma9HYW1lU3RhcnTnmoTmjqfliLbvvIxcclxuICog56ev5YiG55qE5pi+56S677yM6IOM5pmv5Zu+54mH6LCD6IqC77yM5ri45oiP5qGG5L2TXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIExheWEuU2NlbmV7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/orr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKhcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6nXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v5oiP5o6n5Yi26ISa5pys5byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5oCn6IO95byA6ZSAXHJcbiAgICAgICAgLy90aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xyXG5cclxuICAgICAgICAvL+iDjOaZr+WbvueJh+Wkp+Wwj+iHqumAguW6lOWxj+W5lVxyXG4gICAgICAgIHRoaXMuX2Jja0ltZyA9IHRoaXMuX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIHRoaXMuX2Jja0ltZy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5fYmNrSW1nLmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvL+S9jeWbvuWtl+S9k+eahOS9v+eUqFxyXG4gICAgICAgIHRoaXMubUZvbnROYW1lID0gXCJmb250XCI7XHJcbiAgICAgICAgdGhpcy5tQml0bWFwRm9udCA9IG5ldyBMYXlhLkJpdG1hcEZvbnQoKTtcclxuICAgICAgICB0aGlzLm1CaXRtYXBGb250LmxvYWRGb250KFwiYml0bWFwRm9udC9mb250LmZudFwiLG5ldyBMYXlhLkhhbmRsZXIodGhpcyx0aGlzLm9uTG9hZGVkKSk7XHJcbiAgICAgICAgLy/pq5jluqYo5YiG5pWwKVxyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVfdGV4dCA9IHRoaXMuX2NoaWxkcmVuWzJdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5bCG54mp55CG5LiW55WM5oyH5a6a5Li6R2FtZWJvXHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMuX2NoaWxkcmVuWzFdO1xyXG4gICAgICAgIExheWEuUGh5c2ljcy5JLndvcmxkUm9vdCA9IHRoaXMuX2dhbWVCb3g7XHJcbiAgICAgICAgLy/lvIDlp4vmuLjmiI/mjInpkq5cclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zdGFydEdhbWUpO1xyXG4gICAgICAgIC8v56Kw5pKe5qGG5pi+56S6XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmlzZGVidWcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZGVkKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9IFxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIC8v5aaC5p6c5L2N5Zu+5a2X5L2T5Lit77yM5rKh5pS+56m65qC877yM5pyA5aW96K6+572u5LiA5Liq56m65qC85a695bqmXHJcbiAgICAgICAgLy90aGlzLm1CaXRtYXBGb250LnNldFNwYWNlV2lkdGgoMTApO1xyXG4gICAgICAgIExheWEuVGV4dC5yZWdpc3RlckJpdG1hcEZvbnQodGhpcy5tRm9udE5hbWUsdGhpcy5tQml0bWFwRm9udCk7XHJcbiAgICAgICAgdGhpcy5zY29yZV90ZXh0LmZvbnQgPSB0aGlzLm1Gb250TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNjb3JlX3RleHQudGV4dCA9IHRoaXMuc2NvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2NvcmUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY29yZTtcclxuICAgIH1cclxuXHJcbiAgICBpc2RlYnVnKCl7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5fY29tcG9uZW50c1swXS5pc2RlYnVnKCk7XHJcbiAgICB9XHJcbiAgICAvKiDlvIDlp4vmuLjmiI8gKi9cclxuICAgIHN0YXJ0R2FtZSgpe1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVfdGV4dC50ZXh0ID0gdGhpcy5zY29yZTtcclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVRpbHRlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVUaWx0ZS50ZXh0dXJlID0gXCJnYW1lLXRpbGVzLWludGVyZmFjZS9yYWNlLW92ZXIucG5nXCI7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5fY29tcG9uZW50c1swXS5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDlgZzmraLmuLjmiI8gKi9cclxuICAgIGVuZEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVRpbHRlLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5fY29udHJvbC5zdG9wR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiXHJcbi8qKlxyXG4gKiDpooTliqDovb3pobXpnaJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdQYWdlIGV4dGVuZHMgTGF5YS5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvL+iDjOaZr+WbvueJh+Wkp+Wwj+iHqumAguW6lOWxj+W5lVxyXG4gICAgICAgIHRoaXMuX2Jja0ltZyA9IHRoaXMuZ2V0Q2hpbGRCeU5hbWUoJ2Jja0ltZycpO1xyXG4gICAgICAgIHRoaXMuX2Jja0ltZy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5fYmNrSW1nLmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG4gICAgICAgIC8v5pi+56S66L+b5bqm5paH5a2XXHJcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IExheWEuVGV4dCgpO1xyXG4gICAgICAgIHRoaXMudGV4dC5mb250ID0gXCJJbXBhY3RcIjtcclxuICAgICAgICB0aGlzLnRleHQudGV4dCA9IFwiMCVcIjtcclxuICAgICAgICB0aGlzLnRleHQuZm9udFNpemUgPSA2MDtcclxuICAgICAgICB0aGlzLnRleHQuY29sb3IgPSBcIiMzMzNcIjtcclxuICAgICAgICB0aGlzLnRleHQueCA9IExheWEuc3RhZ2Uud2lkdGggLSB0aGlzLnRleHQud2lkdGggPj4gMTtcclxuICAgICAgICB0aGlzLnRleHQueSA9IChMYXlhLnN0YWdlLmhlaWdodCAtIHRoaXMudGV4dC5oZWlnaHQgPj4gMSkgLSAxMjA7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRleHQpO1xyXG4gICAgICAgIC8v5pi+56S66L+b5bqm5p2hXHJcbiAgICAgICAgdGhpcy5zcCA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5zcCk7XHJcbiAgICAgICAgdGhpcy5zcC5ncmFwaGljcy5kcmF3UmVjdCgxMjAsIExheWEuc3RhZ2UuaGVpZ2h0ID4+IDEsIDAsIDUwLCBcIiMzMzNcIik7XHJcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LlBST0dSRVNTLCB0aGlzLCB0aGlzLm9uUHJvZ3Jlc3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5vZmYoTGF5YS5FdmVudC5QUk9HUkVTUywgdGhpcywgdGhpcy5vblByb2dyZXNzKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblByb2dyZXNzKHByb2dyZXNzKSB7XHJcbiAgICAgICAgdGhpcy5zcC5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuc3AuZ3JhcGhpY3MuZHJhd1JlY3QoMTIwLCBMYXlhLnN0YWdlLmhlaWdodCA+PiAxLCBwcm9ncmVzcyo0MDAsIDUwLCBcIiMzMzNcIik7XHJcbiAgICAgICAgdGhpcy50ZXh0LnRleHQgPSBgJHsocHJvZ3Jlc3MgKiAxMDApLnRvRml4ZWQoMil9JWA7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBncm91bmRCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6YnJvd24tYW5pLHRpcHM6XCLliqjnlLvotYTmupBcIix0eXBlOlJlc30qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnRhbi1hbmksdGlwczpcIuWKqOeUu+i1hOa6kFwiLHR5cGU6UmVzfSovXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICAvL+WPjeW8uemAn+W6plxyXG4gICAgICAgIHRoaXMuanVtcF9oZWlnaHQgPSAtMjU7XHJcbiAgICAgICAgLy/liqDovb3nm7jlupTnsbvlnovnmoTlnLDmnb/lm77niYdcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvZ3JvdW5kLVwiICsgdGhpcy5ncm91bmRfdHlwZSArIFwiLnBuZ1wiO1xyXG4gICAgICAgIHRoaXMuR3JvdW5kVHlwZV9vbkVuYWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIEdyb3VuZFR5cGVfaW50byh0eXBlID0gMCl7XHJcbiAgICAgICAgdmFyIGdyb3VuZF90eXBlQWxsID0gW1wiZ3JlZW5cIixcImJsdWVcIixcImJyb3duXCIsXCJ3aGl0ZVwiLFwidGFuXCJdO1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kX3R5cGUgPSBncm91bmRfdHlwZUFsbFt0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICAvL+mSiOWvueS4jeWQjOexu+Wei+eahOWcsOadv+i/m+ihjOS4jeWQjOeahOWIneWni+WMllxyXG4gICAgR3JvdW5kVHlwZV9vbkVuYWJsZSgpe1xyXG4gICAgICAgIHN3aXRjaCh0aGlzLmdyb3VuZF90eXBlKXtcclxuICAgICAgICAgICAgY2FzZSBcImJsdWVcIjpcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogLTUsIHk6IDAgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInRhblwiOlxyXG4gICAgICAgICAgICB0aGlzLmFuaV9wbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v6ZKI5a+55LiN5ZCM57G75Z6L5Zyw5p2/55qE5LiN5ZCM5LqL5Lu2XHJcbiAgICAgICAgaWYodGhpcy5ncm91bmRfdHlwZSA9PSBcImJsdWVcIil7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub3duZXIueDw9MCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiA1LCB5OiAwIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLm93bmVyLng+PUxheWEuc3RhZ2Uud2lkdGgtdGhpcy5vd25lci53aWR0aCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAtNSwgeTogMCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuZ3JvdW5kX3R5cGUgPT0gXCJ0YW5cIiAmJiB0aGlzLmFuaV9wbGF5KXtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueSArIExheWEuc3RhZ2UuaGVpZ2h0LzQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pX3BsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCB0YW4gPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwidGFuXCIsIHRoaXMuY3JlYXRlVGFuLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRhbi5wb3MoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKHRhbik7XHJcbiAgICAgICAgICAgICAgICB0YW4ucGxheSgwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgKSB7XHJcbiAgICAgICAgICAgIGlmKG90aGVyLnJpZ2lkQm9keS5saW5lYXJWZWxvY2l0eS55ID49IDApe1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMuZ3JvdW5kX3R5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGl0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJicm93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBicm93biA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJicm93blwiLCB0aGlzLmNyZWF0ZUJyb3duLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBicm93bi5wb3MoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChicm93bik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd24ucGxheSgwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAxMCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRhblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIOS9v+eUqOWvueixoeaxoOWIm+W7umJyb3du5Zyw5p2/5Yqo55S7XHJcbiAgICAgICovXHJcbiAgICBjcmVhdGVCcm93bigpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJhbmkvZ3JvdW5kX2Jyb3duLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJicm93blwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgICAvKipcclxuICAgICAgKiDkvb/nlKjlr7nosaHmsaDliJvlu7p0YW7lnLDmnb/liqjnlLsgXHJcbiAgICAgICovXHJcbiAgICAgY3JlYXRlVGFuKCkge1xyXG4gICAgICAgIGxldCBhbmkgPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBsZXQgTWUgPSB0aGlzO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwiYW5pL2dyb3VuZF90YW4uYW5pXCIpO1xyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBPTkVOVF9SRU1PVkVELCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCkge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcInRhblwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QTEVURSwgbnVsbCwgY29tcGxldGUpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCl7XHJcbiAgICAgICAgICAgIE1lLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+WKqOeUu+e7hOS7tuenu+mZpFxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oMCx0aGlzLm93bmVyLm51bUNoaWxkcmVuLTEpO1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJncm91bmRCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGhvcEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCl7c3VwZXIoKTt9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvL+inkuiJsumBk+WFt+ijheWkh+eKtuaAgVxyXG4gICAgICAgIHRoaXMuX3Byb3AgPSAwO1xyXG4gICAgICAgIC8v6KeS6Imy5pa55ZCRXHJcbiAgICAgICAgdGhpcy5meCA9IFwibGVmdFwiO1xyXG4gICAgICAgIC8v6Lez6LeD6auY5bqmXHJcbiAgICAgICAgdGhpcy5qdW1wX2hlaWdodCA9IC0yNTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgLy/orr7nva7liJ3lp4vpgJ/luqZcclxuICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiB0aGlzLmp1bXBfaGVpZ2h0IH0pO1xyXG5cclxuICAgICAgICAvL+mZgOieuuS7qlxyXG4gICAgICAgIExheWEuR3lyb3Njb3BlLmluc3RhbmNlLm9uKExheWEuRXZlbnQuQ0hBTkdFLCB0aGlzLCB0aGlzLm9uRGV2aWNlb3JpZW50YXRpb24pO1xyXG4gICAgICAgIC8v5b6u5L+h5bCP56iL5bqP54mI55qE6ZmA6J665LuqXHJcbiAgICAgICAgaWYodHlwZW9mIHd4ICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgd3guc3RhcnRBY2NlbGVyb21ldGVyKHtpbnRlcnZhbDogJ2dhbWUnfSk7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHd4Lm9uQWNjZWxlcm9tZXRlckNoYW5nZShmdW5jdGlvbihyb3RhdGlvbkluZm8pe1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSByb3RhdGlvbkluZm8ueCozMDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmZ4ID0gVmVsb2NpdHlfeCAgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICB2YXIgb3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRCb3hcIikge1xyXG4gICAgICAgICAgICAvL+S4i+iQvei/h+eoi+S4reeahOeisOaSnuWkhOeQhlxyXG4gICAgICAgICAgICBpZih0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiaG9wL2hvcC1cIiArIHRoaXMuZnggKyBcIi10b3VjaC5wbmdcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMub3duZXIueD5MYXlhLnN0YWdlLndpZHRoKXRoaXMub3duZXIueD0tdGhpcy5vd25lci53aWR0aDtcclxuICAgICAgICBlbHNlIGlmKHRoaXMub3duZXIueDwtdGhpcy5vd25lci53aWR0aCl0aGlzLm93bmVyLnggPSBMYXlhLnN0YWdlLndpZHRoO1xyXG4gICAgICAgIGlmKHRoaXMub3duZXIueSA+ICAoLXRoaXMub3duZXIuX3BhcmVudC5feSArIExheWEuc3RhZ2UuaGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIEdhbWVDb250cm9sLmluc3RhbmNlLmVuZEdhbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSAna2luZW1hdGljJztcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJob3AvaG9wLVwiICsgdGhpcy5meCArIFwiLWZhbGwucG5nXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiaG9wL2hvcC1cIiArIHRoaXMuZnggKyBcIi1qdW1wLnBuZ1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRldmljZW9yaWVudGF0aW9uKGFic29sdXRlLCByb3RhdGlvbkluZm8pIHtcclxuICAgICAgICBpZiAocm90YXRpb25JbmZvLmFscGhhID09PSBudWxsKVxyXG5cdFx0e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIuW9k+WJjeiuvuWkh+S4jeaUr+aMgemZgOieuuS7quOAglwiKTtcclxuXHRcdH1lbHNle1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IChyb3RhdGlvbkluZm8uZ2FtbWEpLzkwKjMwO1xyXG4gICAgICAgICAgICB0aGlzLmZ4ID0gVmVsb2NpdHlfeCAgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsaWtCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7fVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy/op5LoibLpgZPlhbfoo4XlpIfnirbmgIFcclxuICAgICAgICB0aGlzLl9wcm9wID0gMDtcclxuICAgICAgICAvL+inkuiJsuaWueWQkVxyXG4gICAgICAgIHRoaXMuZnggPSBcImxlZnRcIjtcclxuICAgICAgICB0aGlzLmxpa19yaWdodCA9IFwibGlrL2xpay1yaWdodC5wbmdcIjtcclxuICAgICAgICB0aGlzLmxpa19sZWZ0ID0gXCJsaWsvbGlrLWxlZnQucG5nXCI7XHJcbiAgICAgICAgLy/ot7Pot4Ppq5jluqYoeCA9IDI4MS4yNSwgZyA9IDU1LjU1NTU1NTU1NTU1NTU2KVxyXG4gICAgICAgIHRoaXMuanVtcF9oZWlnaHQgPSAtMjU7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIC8v6K6+572u5Yid5aeL6YCf5bqmXHJcbiAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogdGhpcy5qdW1wX2hlaWdodCB9KTtcclxuICAgICAgICAvL+iusOW9lem8oOagh+enu+WKqOWJjeeahOS9jee9rlxyXG4gICAgICAgIHRoaXMubm93X21vdXNlX3ggPSBudWxsO1xyXG5cclxuICAgICAgICAvL+mZgOieuuS7qlxyXG4gICAgICAgIExheWEuR3lyb3Njb3BlLmluc3RhbmNlLm9uKExheWEuRXZlbnQuQ0hBTkdFLCB0aGlzLCB0aGlzLm9uRGV2aWNlb3JpZW50YXRpb24pO1xyXG4gICAgICAgIC8v5b6u5L+h5bCP56iL5bqP54mI55qE6ZmA6J665LuqXHJcbiAgICAgICAgaWYodHlwZW9mIHd4ICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgd3guc3RhcnRBY2NlbGVyb21ldGVyKHtpbnRlcnZhbDogJ2dhbWUnfSk7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHd4Lm9uQWNjZWxlcm9tZXRlckNoYW5nZShmdW5jdGlvbihyb3RhdGlvbkluZm8pe1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSByb3RhdGlvbkluZm8ueCozMDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmZ4ID0gVmVsb2NpdHlfeCAgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5vd25lci50ZXh0dXJlID0gVmVsb2NpdHlfeCAgPiAwID8gaW5zdGFuY2UubGlrX3JpZ2h0IDogaW5zdGFuY2UubGlrX2xlZnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICB2YXIgb3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRCb3hcIikge1xyXG4gICAgICAgICAgICAvL+S4i+iQvei/h+eoi+S4reeahOeisOaSnuWkhOeQhlxyXG4gICAgICAgICAgICBpZih0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwibGlrL2xpay1cIiArIHRoaXMuZnggKyBcIi1vZHNrb2sucG5nXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIG9uU3RhZ2VNb3VzZURvd24oKXtcclxuICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZU1vdXNlVXAoKXtcclxuICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gbnVsbDtcclxuICAgIH1cclxuICAgICovXHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLm93bmVyLng+TGF5YS5zdGFnZS53aWR0aCl0aGlzLm93bmVyLng9LXRoaXMub3duZXIud2lkdGg7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLm93bmVyLng8LXRoaXMub3duZXIud2lkdGgpdGhpcy5vd25lci54ID0gTGF5YS5zdGFnZS53aWR0aDtcclxuICAgICAgICBpZih0aGlzLm93bmVyLnkgPiAgKC10aGlzLm93bmVyLl9wYXJlbnQueSArIExheWEuc3RhZ2UuaGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIEdhbWVDb250cm9sLmluc3RhbmNlLmVuZEdhbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSAna2luZW1hdGljJztcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICAvL+m8oOagh+aOp+WItuaWueWQkVxyXG4gICAgICAgIGlmKHRoaXMubm93X21vdXNlX3ggIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnggKyAoTGF5YS5zdGFnZS5tb3VzZVgtdGhpcy5ub3dfbW91c2VfeCkvTGF5YS5zdGFnZS53aWR0aCozMDtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gVmVsb2NpdHlfeCAgPiAwID8gdGhpcy5saWtfcmlnaHQgOiB0aGlzLmxpa19sZWZ0O1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgIHRoaXMubm93X21vdXNlX3ggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgdGhpcy5meCA9IFZlbG9jaXR5X3ggID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBWZWxvY2l0eV94ICA+IDAgPyB0aGlzLmxpa19yaWdodCA6IHRoaXMubGlrX2xlZnQ7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSmV0cGFja0JveCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOkpldHBhY2stYW5pLHRpcHM6XCLliqjnlLvotYTmupBcIix0eXBlOlJlc30qL1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+mBk+WFt+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOmBk+WFt+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmdyb3VuZF90eXBlID0gXCJqZXRwYWNrXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICB0aGlzLl9maXJzdCA9IHRydWU7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMuX3JpZy50eXBlID0gXCJzdGF0aWNcIjtcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1qZXRwYWNrLnBuZ1wiO1xyXG4gICAgICAgIC8v6ZmA6J665LuqXHJcbiAgICAgICAgTGF5YS5HeXJvc2NvcGUuaW5zdGFuY2Uub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25EZXZpY2VvcmllbnRhdGlvbik7XHJcbiAgICAgICAgLy/lvq7kv6HlsI/nqIvluo/niYjnmoTpmYDonrrku6pcclxuICAgICAgICBpZih0eXBlb2Ygd3ggIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB3eC5zdGFydEFjY2VsZXJvbWV0ZXIoe2ludGVydmFsOiAnZ2FtZSd9KTtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgd3gub25BY2NlbGVyb21ldGVyQ2hhbmdlKGZ1bmN0aW9uKHJvdGF0aW9uSW5mbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHJvdGF0aW9uSW5mby54KjMwO1xyXG4gICAgICAgICAgICAgICAgaWYoVmVsb2NpdHlfeCAgPiAwICYmICFpbnN0YW5jZS5fZmlyc3QpIGluc3RhbmNlLmlzUmlnaHQoKTsgZWxzZSBpbnN0YW5jZS5pc0xlZnQoKTtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWcsOadv+i2heWHuuWxj+W5le+8jOWImeenu+mZpOWcsOadv1xyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPiAtdGhpcy5vd25lci5fcGFyZW50LnkrTGF5YS5zdGFnZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0ICYmIG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgJiYgb3RoZXIub3duZXIuX2NvbXBvbmVudHNbMV0uX3Byb3AgPT0gMCkge1xyXG4gICAgICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBsZXQgamV0cGFjayA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJqZXRwYWNrXCIsIHRoaXMuY3JlYXRlSmV0cGFjaywgdGhpcyk7XHJcbiAgICAgICAgICAgIGpldHBhY2sucG9zKDAsIDApO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGpldHBhY2spO1xyXG4gICAgICAgICAgICBqZXRwYWNrLnBsYXkoMCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgNzA7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueSA9IG90aGVyLm93bmVyLnkgKyAyNjtcclxuXHJcbiAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7eCA6IDAgLCB5IDogMH0pO1xyXG4gICAgICAgICAgICBvdGhlci5yaWdpZEJvZHkudHlwZSA9IFwia2luZW1hdGljXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy50eXBlID0gXCJraW5lbWF0aWNcIjtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhvdGhlci5vd25lciwge3kgOiBvdGhlci5vd25lci55IC0gNDAwMH0sIDgwMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy50d2VlbkVuZCxbb3RoZXJdKSk7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5vd25lciwge3kgOiB0aGlzLm93bmVyLnkgLSA0MDAwfSwgODAwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLnR3ZWVuRW5kMixbdGhpc10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSmV0cGFjaygpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJhbmkvcHJvcF9qZXRwYWNrLmFuaVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJqZXRwYWNrXCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMZWZ0KCl7XHJcbiAgICAgICAgdGhpcy5vd25lci5za2V3WSA9IDA7XHJcbiAgICAgICAgLy90aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgNzA7XHJcbiAgICB9XHJcbiAgICBpc1JpZ2h0KCl7XHJcbiAgICAgICAgdGhpcy5vd25lci5za2V3WSA9IDE4MDtcclxuICAgICAgICAvL3RoaXMub3duZXIueCA9IG90aGVyLm93bmVyLnggKyA1MjtcclxuICAgIH1cclxuXHJcbiAgICB0d2VlbkVuZChvdGhlcil7XHJcbiAgICAgICAgb3RoZXIucmlnaWRCb2R5LnR5cGUgPSBcImR5bmFtaWNcIjtcclxuICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdHdlZW5FbmQyKG1lKXtcclxuICAgICAgICAvL+WKqOeUu+e7hOS7tuenu+mZpFxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oMCx0aGlzLm93bmVyLm51bUNoaWxkcmVuLTEpO1xyXG4gICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLWpldHBhY2stMTAucG5nXCI7XHJcbiAgICAgICAgbWUuX3JpZy50eXBlID0gXCJkeW5hbWljXCI7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhtZS5vd25lciwge3JvdGF0aW9uIDogMzYwfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcIkpldHBhY2tCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgaWYoVmVsb2NpdHlfeCAgPiAwICYmICF0aGlzLl9maXJzdCkgdGhpcy5pc1JpZ2h0KCk7IGVsc2UgdGhpcy5pc0xlZnQoKTtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZWxsZXJCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpQcm9wZWxsZXItYW5pLHRpcHM6XCLliqjnlLvotYTmupBcIix0eXBlOlJlc30qL1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+mBk+WFt+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOmBk+WFt+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmdyb3VuZF90eXBlID0gXCJwcm9wZWxsZXJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgIC8v6ZmA6J665LuqXHJcbiAgICAgICAgTGF5YS5HeXJvc2NvcGUuaW5zdGFuY2Uub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25EZXZpY2VvcmllbnRhdGlvbik7XHJcbiAgICAgICAgLy/lvq7kv6HlsI/nqIvluo/niYjnmoTpmYDonrrku6pcclxuICAgICAgICBpZih0eXBlb2Ygd3ggIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB3eC5zdGFydEFjY2VsZXJvbWV0ZXIoe2ludGVydmFsOiAnZ2FtZSd9KTtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgd3gub25BY2NlbGVyb21ldGVyQ2hhbmdlKGZ1bmN0aW9uKHJvdGF0aW9uSW5mbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHJvdGF0aW9uSW5mby54KjMwO1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fZmlyc3QgJiYgb3RoZXIubGFiZWwgPT09IFwicHJvdGFnb25pc3RcIiAmJiBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9PSAwKSB7XHJcbiAgICAgICAgICAgIG90aGVyLm93bmVyLl9jb21wb25lbnRzWzFdLl9wcm9wID0gMTtcclxuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9wZWxsZXIgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwicHJvcGVsbGVyXCIsIHRoaXMuY3JlYXRlUHJvcGVsbGVyLCB0aGlzKTtcclxuICAgICAgICAgICAgcHJvcGVsbGVyLnBvcygwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChwcm9wZWxsZXIpO1xyXG4gICAgICAgICAgICBwcm9wZWxsZXIucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueCA9IG90aGVyLm93bmVyLnggKyAyOTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci55ID0gb3RoZXIub3duZXIueSAtMTg7XHJcblxyXG4gICAgICAgICAgICBvdGhlci5yaWdpZEJvZHkuc2V0VmVsb2NpdHkoe3ggOiAwICwgeSA6IDB9KTtcclxuICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnR5cGUgPSBcImtpbmVtYXRpY1wiO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWcudHlwZSA9IFwia2luZW1hdGljXCI7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8ob3RoZXIub3duZXIsIHt5IDogb3RoZXIub3duZXIueSAtIDIwMDB9LCA0MDAwLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMudHdlZW5FbmQsW290aGVyXSkpO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMub3duZXIsIHt5IDogdGhpcy5vd25lci55IC0gMjAwMH0sIDQwMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy50d2VlbkVuZDIsW3RoaXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVByb3BlbGxlcigpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJhbmkvcHJvcF9wcm9wZWxsZXIuYW5pXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBPTkVOVF9SRU1PVkVELCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCkge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcInByb3BlbGxlclwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIHR3ZWVuRW5kKG90aGVyKXtcclxuICAgICAgICBvdGhlci5yaWdpZEJvZHkudHlwZSA9IFwiZHluYW1pY1wiO1xyXG4gICAgICAgIG90aGVyLm93bmVyLl9jb21wb25lbnRzWzFdLl9wcm9wID0gMDtcclxuICAgIH1cclxuXHJcbiAgICB0d2VlbkVuZDIobWUpe1xyXG4gICAgICAgIC8v5Yqo55S757uE5Lu256e76ZmkXHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVDaGlsZHJlbigwLHRoaXMub3duZXIubnVtQ2hpbGRyZW4tMSk7XHJcbiAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJnYW1lLXRpbGVzL3Byb3AtcHJvcGVsbGVyLnBuZ1wiO1xyXG4gICAgICAgIG1lLl9yaWcudHlwZSA9IFwiZHluYW1pY1wiO1xyXG4gICAgICAgIExheWEuVHdlZW4udG8obWUub3duZXIsIHtyb3RhdGlvbiA6IDM2MH0sIDIwMDApO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJQcm9wZWxsZXJCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpbmdCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+mBk+WFt+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOmBk+WFt+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmdyb3VuZF90eXBlID0gXCJzcHJpbmdcIjtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1TcHJpbmctQ29tcHJlc3Npb24ucG5nXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgLy/lpoLmnpzlnLDmnb/otoXlh7rlsY/luZXvvIzliJnnp7vpmaTlnLDmnb9cclxuICAgICAgICBpZiAodGhpcy5vd25lci55ID4gLXRoaXMub3duZXIuX3BhcmVudC55K0xheWEuc3RhZ2UuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlciwgc2VsZiwgY29udGFjdCkge1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJwcm90YWdvbmlzdFwiICkge1xyXG4gICAgICAgICAgICBpZihvdGhlci5yaWdpZEJvZHkubGluZWFyVmVsb2NpdHkueSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLVNwcmluZy1FeHRlbmRlZC5wbmdcIjtcclxuICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7eCA6IDAgLCB5IDogLTQwfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJTcHJpbmdCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxudmFyIENMQVNTJD1MYXlhLmNsYXNzO1xyXG52YXIgU1RBVElDQVRUUiQ9TGF5YS5zdGF0aWM7XG52YXIgVmlldz1sYXlhLnVpLlZpZXc7XG52YXIgRGlhbG9nPWxheWEudWkuRGlhbG9nO1xudmFyIFNjZW5lPUxheWEuU2NlbmU7XG5pZighd2luZG93LnVpKSB3aW5kb3cudWk9e307XG5leHBvcnQge3VpIGFzIGRlZmF1bHR9OyJdfQ==
