var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

var _GameControl = require("./script/GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

var _groundBox = require("./script/groundBox");

var _groundBox2 = _interopRequireDefault(_groundBox);

var _JetpackBox = require("./script/prop/JetpackBox");

var _JetpackBox2 = _interopRequireDefault(_JetpackBox);

var _PropellerBox = require("./script/prop/PropellerBox");

var _PropellerBox2 = _interopRequireDefault(_PropellerBox);

var _SpringBox = require("./script/prop/SpringBox");

var _SpringBox2 = _interopRequireDefault(_SpringBox);

var _hopBox = require("./script/hopBox");

var _hopBox2 = _interopRequireDefault(_hopBox);

var _likBox = require("./script/likBox");

var _likBox2 = _interopRequireDefault(_likBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("script/GameUI.js", _GameUI2.default);
												reg("script/GameControl.js", _GameControl2.default);
												reg("script/groundBox.js", _groundBox2.default);
												reg("script/prop/JetpackBox.js", _JetpackBox2.default);
												reg("script/prop/PropellerBox.js", _PropellerBox2.default);
												reg("script/prop/SpringBox.js", _SpringBox2.default);
												reg("script/hopBox.js", _hopBox2.default);
												reg("script/likBox.js", _likBox2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "game/GameStart.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./script/GameControl":3,"./script/GameUI":4,"./script/groundBox":5,"./script/hopBox":6,"./script/likBox":7,"./script/prop/JetpackBox":8,"./script/prop/PropellerBox":9,"./script/prop/SpringBox":10}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

var _layaMaxUI = require("./ui/layaMaxUI");

var _layaMaxUI2 = _interopRequireDefault(_layaMaxUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1,"./ui/layaMaxUI":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameUI = require("./GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
主要对GameBox的控制
此类型主要控制游戏中物体(如主角、地板)的创建与删除
画面(物理世界)的移动
积分的计算

*/

var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:groundBox,tips:"地板对象",type:Prefab}*/
    /** @prop {name:likBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:hopBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:PropellerBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:SpringBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:JetpackBox,tips:"道具对象",type:Prefab}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));

        GameControl.instance = _this;
        return _this;
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            //DebugPanel.init();
            this._started = false;

            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            //需要创建绿地的最高位置(设置为负值意味着还未显示提前加载)
            this._Ground_max = -100;
            //两绿地垂直最高距离(或人物跳跃最高高度)
            this.gorund_apart_height = 130;

            //画面移动时的缓动开关
            this._tween = true;
            this._rig = this.owner.getComponent(Laya.RigidBody);

            //将physicsDebug的绘画范围改为物理世界(GameBox)，同时更改对应代码(laya.physics.js:3639)
            this._debug = Laya["PhysicsDebugDraw"].enable();
            this._isdebug = false;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            if (this._isdebug) {
                this.owner.removeChild(this._debug);
                this._isdebug = false;
            } else {
                this.owner.addChild(this._debug);
                this._isdebug = true;
            }
        }
    }, {
        key: "createGround",
        value: function createGround() {
            while (this.Ground_max > -this.owner.y + this._Ground_max) {
                var Ground_max = this.Ground_max - Math.random() * this.gorund_apart_height - 31;
                var Ground_width = Math.random() * (Laya.stage.width - 120);
                var ground = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
                ground.pos(Ground_width, Ground_max);
                //brown类型的地板属于额外地板类型
                if (ground._components[2].ground_type != "brown") this.Ground_max = Ground_max;
                this.owner.addChild(ground);

                //随机在地板上创建道具
                if (ground._components[2].ground_type == "green" && Math.random() > 0.1) {
                    this.createProp(Ground_width, Ground_max);
                }
            }
        }
        //创建道具

    }, {
        key: "createProp",
        value: function createProp(x, y) {
            var randomNumber = Math.random();
            var prop;
            if (randomNumber > 0.9) {
                prop = Laya.Pool.getItemByCreateFun("JetpackBox", this.JetpackBox.create, this.JetpackBox);
                prop.pos(x + Math.random() * 80 + 10, y - 85);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.8) {
                prop = Laya.Pool.getItemByCreateFun("PropellerBox", this.PropellerBox.create, this.PropellerBox);
                prop.pos(x + Math.random() * 80 + 10, y - 54);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.5) {
                prop = Laya.Pool.getItemByCreateFun("SpringBox", this.SpringBox.create, this.SpringBox);
                prop.pos(x + Math.random() * 80 + 10, y - 50);
                this.owner.addChild(prop);
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果主角达到屏幕一半高度时界面向下移动
            if (this._started) {
                if (this.protagonist._y < -this.owner.y + Laya.stage.height / 3) {

                    if (this._tween) {
                        this._tween = false;
                        this._rig.setVelocity({ x: 0, y: 10 });
                    }

                    //this.owner.y += 5;
                    _GameUI2.default.instance.addScore(1);
                    this.createGround();
                } else {
                    this._rig.setVelocity({ x: 0, y: 0 });
                    this._tween = true;
                }
            }
        }
    }, {
        key: "tween_run",
        value: function tween_run() {
            this._tween = true;
        }
    }, {
        key: "startGame",
        value: function startGame() {
            if (this._started) return;
            this._started = true;
            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            this.owner.y = 0;
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            if (this._isdebug) this.owner.addChild(this._debug);
            //创建主角(likBox/hopBox)
            this.protagonist = Laya.Pool.getItemByCreateFun("likBox", this.likBox.create, this.likBox);
            this.protagonist.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            this.owner.addChild(this.protagonist);

            //创建草地
            var gorund = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
            gorund.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            this.owner.addChild(gorund);
            this.createGround();
        }
    }, {
        key: "endGame",
        value: function endGame() {
            Laya.Tween.to(this.owner, { y: this.owner.y - 800 }, 100);
            this._started = false;
            _GameUI2.default.instance.endGame();
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"./GameUI":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
主要对场景GameStart的控制，
积分的显示，背景图片调节，游戏框体
*/
var GameUI = function (_Laya$Scene) {
    _inherits(GameUI, _Laya$Scene);

    function GameUI() {
        _classCallCheck(this, GameUI);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

        GameUI.instance = _this;
        //关闭多点触控
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }

    _createClass(GameUI, [{
        key: "onEnable",
        value: function onEnable() {
            //戏控制脚本引用，避免每次获取组件带来不必要的性能开销
            //this._control = this.getComponent(GameControl);

            //背景图片大小自适应屏幕
            this._bckImg = this._children[0];
            this._bckImg.width = Laya.stage.width;
            this._bckImg.height = Laya.stage.height;

            //位图字体的使用
            this.mFontName = "font";
            this.mBitmapFont = new Laya.BitmapFont();
            this.mBitmapFont.loadFont("bitmapFont/font.fnt", new Laya.Handler(this, this.onLoaded));
            //高度(分数)
            this.score = 0;
            this.score_text = this._children[2];

            //将物理世界指定为Gamebo
            this._gameBox = this._children[1];
            Laya.Physics.I.worldRoot = this._gameBox;
            //开始游戏按钮
            this.playButton.on(Laya.Event.CLICK, this, this.startGame);
            //碰撞框显示
            this.debug.on(Laya.Event.CLICK, this, this.isdebug);
        }
    }, {
        key: "onLoaded",
        value: function onLoaded() {
            this.init();
        }
    }, {
        key: "init",
        value: function init() {
            //如果位图字体中，没放空格，最好设置一个空格宽度
            //this.mBitmapFont.setSpaceWidth(10);
            Laya.Text.registerBitmapFont(this.mFontName, this.mBitmapFont);
            this.score_text.font = this.mFontName;
        }

        /* 增加分数 */

    }, {
        key: "addScore",
        value: function addScore(value) {
            this.score += value;
            this.score_text.text = this.score;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            this._gameBox._components[0].isdebug();
        }
        /* 开始游戏 */

    }, {
        key: "startGame",
        value: function startGame() {
            this.score = 0;
            this.score_text.text = this.score;
            this.playButton.visible = false;
            this.gameTilte.visible = false;
            this.gameTilte.texture = "game-tiles-interface/race-over.png";
            this._gameBox._components[0].startGame();
        }

        /* 停止游戏 */

    }, {
        key: "endGame",
        value: function endGame() {
            this.playButton.visible = true;
            this.gameTilte.visible = true;
            //this._control.stopGame();
        }
    }]);

    return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./GameControl":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var groundBox = function (_Laya$Script) {
    _inherits(groundBox, _Laya$Script);

    function groundBox() {
        _classCallCheck(this, groundBox);

        //地板类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，地板类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (groundBox.__proto__ || Object.getPrototypeOf(groundBox)).call(this));

        var ground_typeAll = ["green", "blue", "white", "brown", "tan"];
        _this.ground_type = ground_typeAll[Math.floor(Math.random() * ground_typeAll.length)];
        //this.ground_type = "tan";
        return _this;
    }

    _createClass(groundBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //加载相应类型的地板图片
            this.owner.texture = "game-tiles/ground-" + this.ground_type + ".png";
            //反弹速度
            this.jump_height = -25;
            this.GroundType_onEnable();
        }

        //针对不同类型的地板进行不同的初始化

    }, {
        key: "GroundType_onEnable",
        value: function GroundType_onEnable() {
            switch (this.ground_type) {
                case "blue":
                    this._rig.setVelocity({ x: -5, y: 0 });
                    break;

                case "tan":
                    this.ani_play = true;
                    break;
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //针对不同类型地板的不同事件
            if (this.ground_type == "blue") {
                if (this.owner.x <= 0) {
                    this._rig.setVelocity({ x: 5, y: 0 });
                } else if (this.owner.x >= Laya.stage.width - this.owner.width) {
                    this._rig.setVelocity({ x: -5, y: 0 });
                }
            } else if (this.ground_type == "tan" && this.ani_play) {
                if (this.owner.y > -this.owner._parent.y + Laya.stage.height / 4) {
                    this.ani_play = false;
                    var tan = Laya.Pool.getItemByCreateFun("tan", this.createTan, this);
                    tan.pos(0, 0);
                    this.owner.addChild(tan);
                    tan.play(0, false);
                    this.owner.texture = "";
                }
            }

            //如果地板超出屏幕，移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    switch (this.ground_type) {
                        case "white":
                            this.owner.removeSelf();
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        case "brown":
                            var brown = Laya.Pool.getItemByCreateFun("brown", this.createBrown, this);
                            brown.pos(0, 0);
                            this.owner.addChild(brown);
                            brown.play(0, false);
                            this.owner.texture = "";
                            this._rig.setVelocity({ x: 0, y: 10 });
                            break;

                        case "tan":
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        default:
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                    }
                }
            }
        }

        /**使用对象池创建brown地板动画 */

    }, {
        key: "createBrown",
        value: function createBrown() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/ground_brown.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("brown", ani);
            }
            return ani;
        }

        /**使用对象池创建tan地板动画 */

    }, {
        key: "createTan",
        value: function createTan() {
            var ani = new Laya.Animation();
            var Me = this;
            ani.loadAnimation("game/ground_tan.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("tan", ani);
            }
            ani.on(Laya.Event.COMPLETE, null, complete);
            function complete() {
                Me.owner.removeSelf();
            }
            return ani;
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("groundBox", this.owner);
        }
    }]);

    return groundBox;
}(Laya.Script);

exports.default = groundBox;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var hopBox = function (_Laya$Script) {
    _inherits(hopBox, _Laya$Script);

    function hopBox() {
        _classCallCheck(this, hopBox);

        return _possibleConstructorReturn(this, (hopBox.__proto__ || Object.getPrototypeOf(hopBox)).call(this));
    }

    _createClass(hopBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            //跳跃高度
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "hop/hop-" + this.fx + "-touch.png";
                }
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent._y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            if (this._rig.linearVelocity.y > 0) {
                this.owner.texture = "hop/hop-" + this.fx + "-fall.png";
            } else {
                this.owner.texture = "hop/hop-" + this.fx + "-jump.png";
            }
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return hopBox;
}(Laya.Script);

exports.default = hopBox;

},{"./GameControl":3}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var likBox = function (_Laya$Script) {
    _inherits(likBox, _Laya$Script);

    function likBox() {
        _classCallCheck(this, likBox);

        return _possibleConstructorReturn(this, (likBox.__proto__ || Object.getPrototypeOf(likBox)).call(this));
    }

    _createClass(likBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            this.lik_right = "lik/lik-right.png";
            this.lik_left = "lik/lik-left.png";
            //跳跃高度
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });
            //记录鼠标移动前的位置
            this.now_mouse_x = null;

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    //instance.owner.skewY = Velocity_x  > 0 ? 180 : 0;
                    instance.owner.texture = Velocity_x > 0 ? instance.lik_right : instance.lik_left;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "lik/lik-" + this.fx + "-odskok.png";
                    //this._rig.setVelocity({ x: 0, y: this.jump_height });
                }
            }
        }

        /*
        onStageMouseDown(){
            this.now_mouse_x = Laya.stage.mouseX;
        }
          onStageMouseUp(){
            this.now_mouse_x = null;
        }
        */

    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            /*
            //鼠标控制方向
            if(this.now_mouse_x != null){
                let Velocity_x = this._rig.linearVelocity.x + (Laya.stage.mouseX-this.now_mouse_x)/Laya.stage.width*30;
                this.owner.texture = Velocity_x  > 0 ? this.lik_right : this.lik_left;
                let Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this.now_mouse_x = Laya.stage.mouseX;
                this._rig.linearVelocity = Velocity;
            }
            */
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                //this.owner.skewY = Velocity_x  > 0 ? 180 : 0;
                this.owner.texture = Velocity_x > 0 ? this.lik_right : this.lik_left;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return likBox;
}(Laya.Script);

exports.default = likBox;

},{"./GameControl":3}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var JetpackBox = function (_Laya$Script) {
    _inherits(JetpackBox, _Laya$Script);

    function JetpackBox() {
        _classCallCheck(this, JetpackBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (JetpackBox.__proto__ || Object.getPrototypeOf(JetpackBox)).call(this));

        _this.ground_type = "jetpack";
        return _this;
    }

    _createClass(JetpackBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            this.owner.texture = "game-tiles/prop-jetpack.png";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    if (Velocity_x > 0 && !instance._first) instance.isRight();else instance.isLeft();
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var jetpack = Laya.Pool.getItemByCreateFun("jetpack", this.createJetpack, this);
                jetpack.pos(0, 0);
                this.owner.addChild(jetpack);
                jetpack.play(0, true);
                this.owner.texture = "";

                this.owner.x = other.owner.x + 70;
                this.owner.y = other.owner.y + 26;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createJetpack",
        value: function createJetpack() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/prop_jetpack.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("jetpack", ani);
            }
            return ani;
        }
    }, {
        key: "isLeft",
        value: function isLeft() {
            this.owner.skewY = 0;
            //this.owner.x = other.owner.x + 70;
        }
    }, {
        key: "isRight",
        value: function isRight() {
            this.owner.skewY = 180;
            //this.owner.x = other.owner.x + 52;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-jetpack-10.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("JetpackBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                if (Velocity_x > 0 && !this._first) this.isRight();else this.isLeft();
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return JetpackBox;
}(Laya.Script);

exports.default = JetpackBox;

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PropellerBox = function (_Laya$Script) {
    _inherits(PropellerBox, _Laya$Script);

    function PropellerBox() {
        _classCallCheck(this, PropellerBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (PropellerBox.__proto__ || Object.getPrototypeOf(PropellerBox)).call(this));

        _this.ground_type = "propeller";
        return _this;
    }

    _createClass(PropellerBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var propeller = Laya.Pool.getItemByCreateFun("propeller", this.createPropeller, this);
                propeller.pos(0, 0);
                this.owner.addChild(propeller);
                propeller.play(0, true);
                this.owner.texture = "";

                this.owner.x = other.owner.x + 29;
                this.owner.y = other.owner.y - 18;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createPropeller",
        value: function createPropeller() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/prop_propeller.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("propeller", ani);
            }
            return ani;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-propeller.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("PropellerBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return PropellerBox;
}(Laya.Script);

exports.default = PropellerBox;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SpringBox = function (_Laya$Script) {
    _inherits(SpringBox, _Laya$Script);

    function SpringBox() {
        _classCallCheck(this, SpringBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (SpringBox.__proto__ || Object.getPrototypeOf(SpringBox)).call(this));

        _this.ground_type = "spring";
        return _this;
    }

    _createClass(SpringBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this.owner.texture = "game-tiles/prop-Spring-Compression.png";
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    this.owner.texture = "game-tiles/prop-Spring-Extended.png";
                    other.rigidBody.setVelocity({ x: 0, y: -40 });
                }
            }
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("SpringBox", this.owner);
        }
    }]);

    return SpringBox;
}(Laya.Script);

exports.default = SpringBox;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var CLASS$ = Laya.class;
var STATICATTR$ = Laya.static;
var View = laya.ui.View;
var Dialog = laya.ui.Dialog;
var Scene = Laya.Scene;
if (!window.ui) window.ui = {};
exports.default = ui;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLmpzIiwic3JjL01haW4uanMiLCJzcmMvc2NyaXB0L0dhbWVDb250cm9sLmpzIiwic3JjL3NjcmlwdC9HYW1lVUkuanMiLCJzcmMvc2NyaXB0L2dyb3VuZEJveC5qcyIsInNyYy9zY3JpcHQvaG9wQm94LmpzIiwic3JjL3NjcmlwdC9saWtCb3guanMiLCJzcmMvc2NyaXB0L3Byb3AvSmV0cGFja0JveC5qcyIsInNyYy9zY3JpcHQvcHJvcC9Qcm9wZWxsZXJCb3guanMiLCJzcmMvc2NyaXB0L3Byb3AvU3ByaW5nQm94LmpzIiwic3JjL3VpL2xheWFNYXhVSS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O3FqQkNWQTs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7Ozs7OzsrQkFDSDtBQUNWO0FBQ0EsZ0JBQUksTUFBTSxLQUFLLFVBQUwsQ0FBZ0IsUUFBMUI7QUFDTixnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSx1QkFBSixFQUE0QixxQkFBNUI7QUFDQSxnQkFBSSxxQkFBSixFQUEwQixtQkFBMUI7QUFDQSxnQkFBSSwyQkFBSixFQUFnQyxvQkFBaEM7QUFDQSxnQkFBSSw2QkFBSixFQUFrQyxzQkFBbEM7QUFDQSxnQkFBSSwwQkFBSixFQUErQixtQkFBL0I7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDRzs7Ozs7O2tCQVpnQixVOztBQWNyQixXQUFXLEtBQVgsR0FBbUIs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QUNIOzs7bUNBRVU7QUFDUDtBQUNBLGdCQUFJLEtBQUssS0FBTCxDQUFXLENBQVgsR0FBZSxDQUFDLEtBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsQ0FBcEIsR0FBc0IsS0FBSyxLQUFMLENBQVcsTUFBcEQsRUFBNEQ7QUFDeEQscUJBQUssS0FBTCxDQUFXLFVBQVg7QUFDSDtBQUNKOzs7dUNBRWMsSyxFQUFPLEksRUFBTSxPLEVBQVM7QUFDakMsZ0JBQUksTUFBTSxLQUFOLEtBQWdCLGFBQXBCLEVBQW9DO0FBQ2hDLG9CQUFHLE1BQU0sU0FBTixDQUFnQixjQUFoQixDQUErQixDQUEvQixJQUFvQyxDQUF2QyxFQUF5QztBQUNyQyx5QkFBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixxQ0FBckI7QUFDQSwwQkFBTSxTQUFOLENBQWdCLFdBQWhCLENBQTRCLEVBQUMsR0FBSSxDQUFMLEVBQVMsR0FBSSxDQUFDLEVBQWQsRUFBNUI7QUFDSDtBQUNKO0FBQ0o7OztvQ0FFVztBQUNSO0FBQ0EsaUJBQUssSUFBTCxDQUFVLE9BQVYsQ0FBa0IsV0FBbEIsRUFBK0IsS0FBSyxLQUFwQztBQUNIOzs7O0VBakNrQyxLQUFLLE07O2tCQUF2QixTOzs7Ozs7OztBQ0ZyQjtBQUNBLElBQUksU0FBTyxLQUFLLEtBQWhCO0FBQ0EsSUFBSSxjQUFZLEtBQUssTUFBckI7QUFDQSxJQUFJLE9BQUssS0FBSyxFQUFMLENBQVEsSUFBakI7QUFDQSxJQUFJLFNBQU8sS0FBSyxFQUFMLENBQVEsTUFBbkI7QUFDQSxJQUFJLFFBQU0sS0FBSyxLQUFmO0FBQ0EsSUFBRyxDQUFDLE9BQU8sRUFBWCxFQUFlLE9BQU8sRUFBUCxHQUFVLEVBQVY7UUFDRCxPLEdBQU4sRSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IGdyb3VuZEJveCBmcm9tIFwiLi9zY3JpcHQvZ3JvdW5kQm94XCJcbmltcG9ydCBKZXRwYWNrQm94IGZyb20gXCIuL3NjcmlwdC9wcm9wL0pldHBhY2tCb3hcIlxuaW1wb3J0IFByb3BlbGxlckJveCBmcm9tIFwiLi9zY3JpcHQvcHJvcC9Qcm9wZWxsZXJCb3hcIlxuaW1wb3J0IFNwcmluZ0JveCBmcm9tIFwiLi9zY3JpcHQvcHJvcC9TcHJpbmdCb3hcIlxuaW1wb3J0IGhvcEJveCBmcm9tIFwiLi9zY3JpcHQvaG9wQm94XCJcbmltcG9ydCBsaWtCb3ggZnJvbSBcIi4vc2NyaXB0L2xpa0JveFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlnIHtcclxuICAgIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIC8v5rOo5YaMU2NyaXB05oiW6ICFUnVudGltZeW8leeUqFxyXG4gICAgICAgIGxldCByZWcgPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcblx0XHRyZWcoXCJzY3JpcHQvR2FtZVVJLmpzXCIsR2FtZVVJKTtcblx0XHRyZWcoXCJzY3JpcHQvR2FtZUNvbnRyb2wuanNcIixHYW1lQ29udHJvbCk7XG5cdFx0cmVnKFwic2NyaXB0L2dyb3VuZEJveC5qc1wiLGdyb3VuZEJveCk7XG5cdFx0cmVnKFwic2NyaXB0L3Byb3AvSmV0cGFja0JveC5qc1wiLEpldHBhY2tCb3gpO1xuXHRcdHJlZyhcInNjcmlwdC9wcm9wL1Byb3BlbGxlckJveC5qc1wiLFByb3BlbGxlckJveCk7XG5cdFx0cmVnKFwic2NyaXB0L3Byb3AvU3ByaW5nQm94LmpzXCIsU3ByaW5nQm94KTtcblx0XHRyZWcoXCJzY3JpcHQvaG9wQm94LmpzXCIsaG9wQm94KTtcblx0XHRyZWcoXCJzY3JpcHQvbGlrQm94LmpzXCIsbGlrQm94KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLndpZHRoID0gNjQwO1xyXG5HYW1lQ29uZmlnLmhlaWdodCA9IDExMzY7XHJcbkdhbWVDb25maWcuc2NhbGVNb2RlID1cImZpeGVkd2lkdGhcIjtcclxuR2FtZUNvbmZpZy5zY3JlZW5Nb2RlID0gXCJub25lXCI7XHJcbkdhbWVDb25maWcuYWxpZ25WID0gXCJ0b3BcIjtcclxuR2FtZUNvbmZpZy5hbGlnbkggPSBcImxlZnRcIjtcclxuR2FtZUNvbmZpZy5zdGFydFNjZW5lID0gXCJnYW1lL0dhbWVTdGFydC5zY2VuZVwiO1xyXG5HYW1lQ29uZmlnLnNjZW5lUm9vdCA9IFwiXCI7XHJcbkdhbWVDb25maWcuZGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5zdGF0ID0gZmFsc2U7XHJcbkdhbWVDb25maWcucGh5c2ljc0RlYnVnID0gZmFsc2U7XHJcbkdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb24gPSB0cnVlO1xyXG5cclxuR2FtZUNvbmZpZy5pbml0KCk7XHJcbiIsIu+7v2ltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IHVpIGZyb20gXCIuL3VpL2xheWFNYXhVSVwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvbmZpZy5hbGlnblY7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKSB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgR2FtZVVJIGZyb20gXCIuL0dhbWVVSVwiO1xyXG4gICAgXHJcbi8qXHJcbuS4u+imgeWvuUdhbWVCb3jnmoTmjqfliLZcclxu5q2k57G75Z6L5Li76KaB5o6n5Yi25ri45oiP5Lit54mp5L2TKOWmguS4u+inkuOAgeWcsOadvynnmoTliJvlu7rkuI7liKDpmaRcclxu55S76Z2iKOeJqeeQhuS4lueVjCnnmoTnp7vliqhcclxu56ev5YiG55qE6K6h566XXHJcblxyXG4qL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6Z3JvdW5kQm94LHRpcHM6XCLlnLDmnb/lr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmxpa0JveCx0aXBzOlwi6KeS6Imy5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpob3BCb3gsdGlwczpcIuinkuiJsuWvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6UHJvcGVsbGVyQm94LHRpcHM6XCLpgZPlhbflr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOlNwcmluZ0JveCx0aXBzOlwi6YGT5YW35a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpKZXRwYWNrQm94LHRpcHM6XCLpgZPlhbflr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/orr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKhcclxuICAgICAgICBHYW1lQ29udHJvbC5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICAvL0RlYnVnUGFuZWwuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy/lvZPliY3liJvlu7rnu7/lnLDnmoTmnIDpq5jkvY3nva5cclxuICAgICAgICB0aGlzLkdyb3VuZF9tYXggPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuICAgICAgICAvL+mcgOimgeWIm+W7uue7v+WcsOeahOacgOmrmOS9jee9rijorr7nva7kuLrotJ/lgLzmhI/lkbPnnYDov5jmnKrmmL7npLrmj5DliY3liqDovb0pXHJcbiAgICAgICAgdGhpcy5fR3JvdW5kX21heCA9IC0xMDA7XHJcbiAgICAgICAgLy/kuKTnu7/lnLDlnoLnm7TmnIDpq5jot53nprso5oiW5Lq654mp6Lez6LeD5pyA6auY6auY5bqmKVxyXG4gICAgICAgIHRoaXMuZ29ydW5kX2FwYXJ0X2hlaWdodCA9IDEzMDtcclxuXHJcbiAgICAgICAgLy/nlLvpnaLnp7vliqjml7bnmoTnvJPliqjlvIDlhbNcclxuICAgICAgICB0aGlzLl90d2VlbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG5cclxuICAgICAgICAvL+WwhnBoeXNpY3NEZWJ1Z+eahOe7mOeUu+iMg+WbtOaUueS4uueJqeeQhuS4lueVjChHYW1lQm94Ke+8jOWQjOaXtuabtOaUueWvueW6lOS7o+eggShsYXlhLnBoeXNpY3MuanM6MzYzOSlcclxuICAgICAgICB0aGlzLl9kZWJ1ZyA9IExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuX2lzZGVidWcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlzZGVidWcoKXtcclxuICAgICAgICBpZih0aGlzLl9pc2RlYnVnKXtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVDaGlsZCh0aGlzLl9kZWJ1Zyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzZGVidWcgPSBmYWxzZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLl9kZWJ1Zyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzZGVidWcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHcm91bmQoKXtcclxuICAgICAgICB3aGlsZSh0aGlzLkdyb3VuZF9tYXggPiAtdGhpcy5vd25lci55K3RoaXMuX0dyb3VuZF9tYXgpe1xyXG4gICAgICAgICAgICBsZXQgR3JvdW5kX21heCA9ICB0aGlzLkdyb3VuZF9tYXggLSBNYXRoLnJhbmRvbSgpICogdGhpcy5nb3J1bmRfYXBhcnRfaGVpZ2h0IC0gMzE7XHJcbiAgICAgICAgICAgIGxldCBHcm91bmRfd2lkdGggPSBNYXRoLnJhbmRvbSgpICogKExheWEuc3RhZ2Uud2lkdGggLSAxMjApO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdW5kID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImdyb3VuZEJveFwiLCB0aGlzLmdyb3VuZEJveC5jcmVhdGUsIHRoaXMuZ3JvdW5kQm94KTtcclxuICAgICAgICAgICAgZ3JvdW5kLnBvcyhHcm91bmRfd2lkdGgsIEdyb3VuZF9tYXgpO1xyXG4gICAgICAgICAgICAvL2Jyb3du57G75Z6L55qE5Zyw5p2/5bGe5LqO6aKd5aSW5Zyw5p2/57G75Z6LXHJcbiAgICAgICAgICAgIGlmKGdyb3VuZC5fY29tcG9uZW50c1syXS5ncm91bmRfdHlwZSAhPSBcImJyb3duXCIpdGhpcy5Hcm91bmRfbWF4ID0gR3JvdW5kX21heDtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChncm91bmQpO1xyXG5cclxuICAgICAgICAgICAgLy/pmo/mnLrlnKjlnLDmnb/kuIrliJvlu7rpgZPlhbdcclxuICAgICAgICAgICAgaWYoIGdyb3VuZC5fY29tcG9uZW50c1syXS5ncm91bmRfdHlwZSA9PSBcImdyZWVuXCIgICYmIE1hdGgucmFuZG9tKCkgPiAwLjEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wKEdyb3VuZF93aWR0aCxHcm91bmRfbWF4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Yib5bu66YGT5YW3XHJcbiAgICBjcmVhdGVQcm9wKHgseSl7XHJcbiAgICAgICAgdmFyIHJhbmRvbU51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgdmFyIHByb3A7XHJcbiAgICAgICAgaWYocmFuZG9tTnVtYmVyID4gMC45KXtcclxuICAgICAgICAgICAgcHJvcCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJKZXRwYWNrQm94XCIsIHRoaXMuSmV0cGFja0JveC5jcmVhdGUsIHRoaXMuSmV0cGFja0JveCk7XHJcbiAgICAgICAgICAgIHByb3AucG9zKHggKyBNYXRoLnJhbmRvbSgpICogODAgKyAxMCwgeSAtIDg1KTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChwcm9wKTtcclxuICAgICAgICB9ZWxzZSBpZihyYW5kb21OdW1iZXIgPj0gMC44KXtcclxuICAgICAgICAgICAgcHJvcCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJQcm9wZWxsZXJCb3hcIiwgdGhpcy5Qcm9wZWxsZXJCb3guY3JlYXRlLCB0aGlzLlByb3BlbGxlckJveCk7XHJcbiAgICAgICAgICAgIHByb3AucG9zKHggKyBNYXRoLnJhbmRvbSgpICogODAgKyAxMCwgeSAtIDU0KTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChwcm9wKTtcclxuICAgICAgICB9ZWxzZSBpZihyYW5kb21OdW1iZXIgPj0gMC41KXtcclxuICAgICAgICAgICAgcHJvcCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJTcHJpbmdCb3hcIiwgdGhpcy5TcHJpbmdCb3guY3JlYXRlLCB0aGlzLlNwcmluZ0JveCk7XHJcbiAgICAgICAgICAgIHByb3AucG9zKHggKyBNYXRoLnJhbmRvbSgpICogODAgKyAxMCwgeSAtIDUwKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgLy/lpoLmnpzkuLvop5Lovr7liLDlsY/luZXkuIDljYrpq5jluqbml7bnlYzpnaLlkJHkuIvnp7vliqhcclxuICAgICAgICBpZih0aGlzLl9zdGFydGVkKXtcclxuICAgICAgICAgICAgaWYodGhpcy5wcm90YWdvbmlzdC5feSA8ICgtdGhpcy5vd25lci55ICsgTGF5YS5zdGFnZS5oZWlnaHQgLyAzKSl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3R3ZWVuKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90d2VlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IDEwIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMub3duZXIueSArPSA1O1xyXG4gICAgICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmFkZFNjb3JlKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVHcm91bmQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHdlZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdHdlZW5fcnVuKCl7XHJcbiAgICAgICAgdGhpcy5fdHdlZW4gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0R2FtZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuX3N0YXJ0ZWQpIHJldHVybiA7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgLy/lvZPliY3liJvlu7rnu7/lnLDnmoTmnIDpq5jkvY3nva5cclxuICAgICAgICB0aGlzLkdyb3VuZF9tYXggPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuICAgICAgICB0aGlzLm93bmVyLnk9MDtcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNoaWxkcmVuKDAsdGhpcy5vd25lci5udW1DaGlsZHJlbi0xKTtcclxuICAgICAgICBpZih0aGlzLl9pc2RlYnVnKXRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fZGVidWcpO1xyXG4gICAgICAgIC8v5Yib5bu65Li76KeSKGxpa0JveC9ob3BCb3gpXHJcbiAgICAgICAgdGhpcy5wcm90YWdvbmlzdCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJsaWtCb3hcIiwgdGhpcy5saWtCb3guY3JlYXRlLCB0aGlzLmxpa0JveCk7XHJcbiAgICAgICAgdGhpcy5wcm90YWdvbmlzdC5wb3MoTGF5YS5zdGFnZS53aWR0aCAvIDIsIExheWEuc3RhZ2UuaGVpZ2h0IC0gMTAwKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMucHJvdGFnb25pc3QpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5Yib5bu66I2J5ZywXHJcbiAgICAgICAgbGV0IGdvcnVuZCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJncm91bmRCb3hcIiwgdGhpcy5ncm91bmRCb3guY3JlYXRlLCB0aGlzLmdyb3VuZEJveCk7XHJcbiAgICAgICAgZ29ydW5kLnBvcyhMYXlhLnN0YWdlLndpZHRoIC8gMiwgTGF5YS5zdGFnZS5oZWlnaHQgLSAxMDApO1xyXG4gICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQoZ29ydW5kKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUdyb3VuZCgpO1xyXG4gICAgfVxyXG4gICAgZW5kR2FtZSgpe1xyXG4gICAgICAgIExheWEuVHdlZW4udG8odGhpcy5vd25lciwge3kgOiB0aGlzLm93bmVyLnkgLSA4MDB9LCAxMDApO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UuZW5kR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuXHJcbi8qXHJcbuS4u+imgeWvueWcuuaZr0dhbWVTdGFydOeahOaOp+WItu+8jFxyXG7np6/liIbnmoTmmL7npLrvvIzog4zmma/lm77niYfosIPoioLvvIzmuLjmiI/moYbkvZNcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgTGF5YS5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+iuvue9ruWNleS+i+eahOW8leeUqOaWueW8j++8jOaWueS+v+WFtuS7luexu+W8leeUqFxyXG4gICAgICAgIEdhbWVVSS5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgLy/lhbPpl63lpJrngrnop6bmjqdcclxuICAgICAgICBMYXlhLk1vdXNlTWFuYWdlci5tdWx0aVRvdWNoRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy/miI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIBcclxuICAgICAgICAvL3RoaXMuX2NvbnRyb2wgPSB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbCk7XHJcblxyXG4gICAgICAgIC8v6IOM5pmv5Zu+54mH5aSn5bCP6Ieq6YCC5bqU5bGP5bmVXHJcbiAgICAgICAgdGhpcy5fYmNrSW1nID0gdGhpcy5fY2hpbGRyZW5bMF07XHJcbiAgICAgICAgdGhpcy5fYmNrSW1nLndpZHRoID0gTGF5YS5zdGFnZS53aWR0aDtcclxuICAgICAgICB0aGlzLl9iY2tJbWcuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8v5L2N5Zu+5a2X5L2T55qE5L2/55SoXHJcbiAgICAgICAgdGhpcy5tRm9udE5hbWUgPSBcImZvbnRcIjtcclxuICAgICAgICB0aGlzLm1CaXRtYXBGb250ID0gbmV3IExheWEuQml0bWFwRm9udCgpO1xyXG4gICAgICAgIHRoaXMubUJpdG1hcEZvbnQubG9hZEZvbnQoXCJiaXRtYXBGb250L2ZvbnQuZm50XCIsbmV3IExheWEuSGFuZGxlcih0aGlzLHRoaXMub25Mb2FkZWQpKTtcclxuICAgICAgICAvL+mrmOW6pijliIbmlbApXHJcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZV90ZXh0ID0gdGhpcy5fY2hpbGRyZW5bMl07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/lsIbniannkIbkuJbnlYzmjIflrprkuLpHYW1lYm9cclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5fY2hpbGRyZW5bMV07XHJcbiAgICAgICAgTGF5YS5QaHlzaWNzLkkud29ybGRSb290ID0gdGhpcy5fZ2FtZUJveDtcclxuICAgICAgICAvL+W8gOWni+a4uOaIj+aMiemSrlxyXG4gICAgICAgIHRoaXMucGxheUJ1dHRvbi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnN0YXJ0R2FtZSk7XHJcbiAgICAgICAgLy/norDmkp7moYbmmL7npLpcclxuICAgICAgICB0aGlzLmRlYnVnLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuaXNkZWJ1Zyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkZWQoKXtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH0gXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgLy/lpoLmnpzkvY3lm77lrZfkvZPkuK3vvIzmsqHmlL7nqbrmoLzvvIzmnIDlpb3orr7nva7kuIDkuKrnqbrmoLzlrr3luqZcclxuICAgICAgICAvL3RoaXMubUJpdG1hcEZvbnQuc2V0U3BhY2VXaWR0aCgxMCk7XHJcbiAgICAgICAgTGF5YS5UZXh0LnJlZ2lzdGVyQml0bWFwRm9udCh0aGlzLm1Gb250TmFtZSx0aGlzLm1CaXRtYXBGb250KTtcclxuICAgICAgICB0aGlzLnNjb3JlX3RleHQuZm9udCA9IHRoaXMubUZvbnROYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOWinuWKoOWIhuaVsCAqL1xyXG4gICAgYWRkU2NvcmUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnNjb3JlICs9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2NvcmVfdGV4dC50ZXh0ID0gdGhpcy5zY29yZTtcclxuICAgIH1cclxuXHJcbiAgICBpc2RlYnVnKCl7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5fY29tcG9uZW50c1swXS5pc2RlYnVnKCk7XHJcbiAgICB9XHJcbiAgICAvKiDlvIDlp4vmuLjmiI8gKi9cclxuICAgIHN0YXJ0R2FtZSgpe1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVfdGV4dC50ZXh0ID0gdGhpcy5zY29yZTtcclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVRpbHRlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVUaWx0ZS50ZXh0dXJlID0gXCJnYW1lLXRpbGVzLWludGVyZmFjZS9yYWNlLW92ZXIucG5nXCI7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5fY29tcG9uZW50c1swXS5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDlgZzmraLmuLjmiI8gKi9cclxuICAgIGVuZEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVRpbHRlLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5fY29udHJvbC5zdG9wR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGdyb3VuZEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+WcsOadv+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOWcsOadv+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB2YXIgZ3JvdW5kX3R5cGVBbGwgPSBbXCJncmVlblwiLFwiYmx1ZVwiLFwid2hpdGVcIixcImJyb3duXCIsXCJ0YW5cIl07XHJcbiAgICAgICAgdGhpcy5ncm91bmRfdHlwZSA9IGdyb3VuZF90eXBlQWxsW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZ3JvdW5kX3R5cGVBbGwubGVuZ3RoKSldO1xyXG4gICAgICAgIC8vdGhpcy5ncm91bmRfdHlwZSA9IFwidGFuXCI7XHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgLy/liqDovb3nm7jlupTnsbvlnovnmoTlnLDmnb/lm77niYdcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvZ3JvdW5kLVwiICsgdGhpcy5ncm91bmRfdHlwZSArIFwiLnBuZ1wiO1xyXG4gICAgICAgIC8v5Y+N5by56YCf5bqmXHJcbiAgICAgICAgdGhpcy5qdW1wX2hlaWdodCA9IC0yNTtcclxuICAgICAgICB0aGlzLkdyb3VuZFR5cGVfb25FbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+mSiOWvueS4jeWQjOexu+Wei+eahOWcsOadv+i/m+ihjOS4jeWQjOeahOWIneWni+WMllxyXG4gICAgR3JvdW5kVHlwZV9vbkVuYWJsZSgpe1xyXG4gICAgICAgIHN3aXRjaCh0aGlzLmdyb3VuZF90eXBlKXtcclxuICAgICAgICAgICAgY2FzZSBcImJsdWVcIjpcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogLTUsIHk6IDAgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInRhblwiOlxyXG4gICAgICAgICAgICB0aGlzLmFuaV9wbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v6ZKI5a+55LiN5ZCM57G75Z6L5Zyw5p2/55qE5LiN5ZCM5LqL5Lu2XHJcbiAgICAgICAgaWYodGhpcy5ncm91bmRfdHlwZSA9PSBcImJsdWVcIil7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub3duZXIueDw9MCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiA1LCB5OiAwIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLm93bmVyLng+PUxheWEuc3RhZ2Uud2lkdGgtdGhpcy5vd25lci53aWR0aCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAtNSwgeTogMCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuZ3JvdW5kX3R5cGUgPT0gXCJ0YW5cIiAmJiB0aGlzLmFuaV9wbGF5KXtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodC80KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaV9wbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFuID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcInRhblwiLCB0aGlzLmNyZWF0ZVRhbiwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0YW4ucG9zKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZCh0YW4pO1xyXG4gICAgICAgICAgICAgICAgdGFuLnBsYXkoMCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lpoLmnpzlnLDmnb/otoXlh7rlsY/luZXvvIznp7vpmaTlnLDmnb9cclxuICAgICAgICBpZiAodGhpcy5vd25lci55ID4gLXRoaXMub3duZXIuX3BhcmVudC55K0xheWEuc3RhZ2UuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwicHJvdGFnb25pc3RcIiApIHtcclxuICAgICAgICAgICAgaWYob3RoZXIucmlnaWRCb2R5LmxpbmVhclZlbG9jaXR5LnkgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2godGhpcy5ncm91bmRfdHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHsgeDogMCwgeTogdGhpcy5qdW1wX2hlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJyb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJyb3duID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImJyb3duXCIsIHRoaXMuY3JlYXRlQnJvd24sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyb3duLnBvcygwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGJyb3duKTtcclxuICAgICAgICAgICAgICAgICAgICBicm93bi5wbGF5KDAsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IDEwIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGFuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHsgeDogMCwgeTogdGhpcy5qdW1wX2hlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHsgeDogMCwgeTogdGhpcy5qdW1wX2hlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgLyoq5L2/55So5a+56LGh5rGg5Yib5bu6YnJvd27lnLDmnb/liqjnlLsgKi9cclxuICAgIGNyZWF0ZUJyb3duKCkge1xyXG4gICAgICAgIGxldCBhbmkgPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEFuaW1hdGlvbihcImdhbWUvZ3JvdW5kX2Jyb3duLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJicm93blwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgICAvKirkvb/nlKjlr7nosaHmsaDliJvlu7p0YW7lnLDmnb/liqjnlLsgKi9cclxuICAgICBjcmVhdGVUYW4oKSB7XHJcbiAgICAgICAgbGV0IGFuaSA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGxldCBNZSA9IHRoaXM7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJnYW1lL2dyb3VuZF90YW4uYW5pXCIpO1xyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBPTkVOVF9SRU1PVkVELCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCkge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcInRhblwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QTEVURSwgbnVsbCwgY29tcGxldGUpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCl7XHJcbiAgICAgICAgICAgIE1lLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+WKqOeUu+e7hOS7tuenu+mZpFxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oMCx0aGlzLm93bmVyLm51bUNoaWxkcmVuLTEpO1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJncm91bmRCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGhvcEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCl7c3VwZXIoKTt9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvL+inkuiJsumBk+WFt+ijheWkh+eKtuaAgVxyXG4gICAgICAgIHRoaXMuX3Byb3AgPSAwO1xyXG4gICAgICAgIC8v6KeS6Imy5pa55ZCRXHJcbiAgICAgICAgdGhpcy5meCA9IFwibGVmdFwiO1xyXG4gICAgICAgIC8v6Lez6LeD6auY5bqmXHJcbiAgICAgICAgdGhpcy5qdW1wX2hlaWdodCA9IC0yNTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgLy/orr7nva7liJ3lp4vpgJ/luqZcclxuICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiB0aGlzLmp1bXBfaGVpZ2h0IH0pO1xyXG5cclxuICAgICAgICAvL+mZgOieuuS7qlxyXG4gICAgICAgIExheWEuR3lyb3Njb3BlLmluc3RhbmNlLm9uKExheWEuRXZlbnQuQ0hBTkdFLCB0aGlzLCB0aGlzLm9uRGV2aWNlb3JpZW50YXRpb24pO1xyXG4gICAgICAgIC8v5b6u5L+h5bCP56iL5bqP54mI55qE6ZmA6J665LuqXHJcbiAgICAgICAgaWYodHlwZW9mIHd4ICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgd3guc3RhcnRBY2NlbGVyb21ldGVyKHtpbnRlcnZhbDogJ2dhbWUnfSk7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHd4Lm9uQWNjZWxlcm9tZXRlckNoYW5nZShmdW5jdGlvbihyb3RhdGlvbkluZm8pe1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSByb3RhdGlvbkluZm8ueCozMDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmZ4ID0gVmVsb2NpdHlfeCAgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICB2YXIgb3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRCb3hcIikge1xyXG4gICAgICAgICAgICAvL+S4i+iQvei/h+eoi+S4reeahOeisOaSnuWkhOeQhlxyXG4gICAgICAgICAgICBpZih0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiaG9wL2hvcC1cIiArIHRoaXMuZnggKyBcIi10b3VjaC5wbmdcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMub3duZXIueD5MYXlhLnN0YWdlLndpZHRoKXRoaXMub3duZXIueD0tdGhpcy5vd25lci53aWR0aDtcclxuICAgICAgICBlbHNlIGlmKHRoaXMub3duZXIueDwtdGhpcy5vd25lci53aWR0aCl0aGlzLm93bmVyLnggPSBMYXlhLnN0YWdlLndpZHRoO1xyXG4gICAgICAgIGlmKHRoaXMub3duZXIueSA+ICAoLXRoaXMub3duZXIuX3BhcmVudC5feSArIExheWEuc3RhZ2UuaGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIEdhbWVDb250cm9sLmluc3RhbmNlLmVuZEdhbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSAna2luZW1hdGljJztcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJob3AvaG9wLVwiICsgdGhpcy5meCArIFwiLWZhbGwucG5nXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiaG9wL2hvcC1cIiArIHRoaXMuZnggKyBcIi1qdW1wLnBuZ1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRldmljZW9yaWVudGF0aW9uKGFic29sdXRlLCByb3RhdGlvbkluZm8pIHtcclxuICAgICAgICBpZiAocm90YXRpb25JbmZvLmFscGhhID09PSBudWxsKVxyXG5cdFx0e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIuW9k+WJjeiuvuWkh+S4jeaUr+aMgemZgOieuuS7quOAglwiKTtcclxuXHRcdH1lbHNle1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IChyb3RhdGlvbkluZm8uZ2FtbWEpLzkwKjMwO1xyXG4gICAgICAgICAgICB0aGlzLmZ4ID0gVmVsb2NpdHlfeCAgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsaWtCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7fVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy/op5LoibLpgZPlhbfoo4XlpIfnirbmgIFcclxuICAgICAgICB0aGlzLl9wcm9wID0gMDtcclxuICAgICAgICAvL+inkuiJsuaWueWQkVxyXG4gICAgICAgIHRoaXMuZnggPSBcImxlZnRcIjtcclxuICAgICAgICB0aGlzLmxpa19yaWdodCA9IFwibGlrL2xpay1yaWdodC5wbmdcIjtcclxuICAgICAgICB0aGlzLmxpa19sZWZ0ID0gXCJsaWsvbGlrLWxlZnQucG5nXCI7XHJcbiAgICAgICAgLy/ot7Pot4Ppq5jluqZcclxuICAgICAgICB0aGlzLmp1bXBfaGVpZ2h0ID0gLTI1O1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICAvL+iuvue9ruWIneWni+mAn+W6plxyXG4gICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgLy/orrDlvZXpvKDmoIfnp7vliqjliY3nmoTkvY3nva5cclxuICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy/pmYDonrrku6pcclxuICAgICAgICBMYXlhLkd5cm9zY29wZS5pbnN0YW5jZS5vbihMYXlhLkV2ZW50LkNIQU5HRSwgdGhpcywgdGhpcy5vbkRldmljZW9yaWVudGF0aW9uKTtcclxuICAgICAgICAvL+W+ruS/oeWwj+eoi+W6j+eJiOeahOmZgOieuuS7qlxyXG4gICAgICAgIGlmKHR5cGVvZiB3eCAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHd4LnN0YXJ0QWNjZWxlcm9tZXRlcih7aW50ZXJ2YWw6ICdnYW1lJ30pO1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICB3eC5vbkFjY2VsZXJvbWV0ZXJDaGFuZ2UoZnVuY3Rpb24ocm90YXRpb25JbmZvKXtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gcm90YXRpb25JbmZvLngqMzA7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5meCA9IFZlbG9jaXR5X3ggID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICAgICAgLy9pbnN0YW5jZS5vd25lci5za2V3WSA9IFZlbG9jaXR5X3ggID4gMCA/IDE4MCA6IDA7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5vd25lci50ZXh0dXJlID0gVmVsb2NpdHlfeCAgPiAwID8gaW5zdGFuY2UubGlrX3JpZ2h0IDogaW5zdGFuY2UubGlrX2xlZnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICB2YXIgb3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRCb3hcIikge1xyXG4gICAgICAgICAgICAvL+S4i+iQvei/h+eoi+S4reeahOeisOaSnuWkhOeQhlxyXG4gICAgICAgICAgICBpZih0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwibGlrL2xpay1cIiArIHRoaXMuZnggKyBcIi1vZHNrb2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIG9uU3RhZ2VNb3VzZURvd24oKXtcclxuICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZU1vdXNlVXAoKXtcclxuICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gbnVsbDtcclxuICAgIH1cclxuICAgICovXHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLm93bmVyLng+TGF5YS5zdGFnZS53aWR0aCl0aGlzLm93bmVyLng9LXRoaXMub3duZXIud2lkdGg7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLm93bmVyLng8LXRoaXMub3duZXIud2lkdGgpdGhpcy5vd25lci54ID0gTGF5YS5zdGFnZS53aWR0aDtcclxuICAgICAgICBpZih0aGlzLm93bmVyLnkgPiAgKC10aGlzLm93bmVyLl9wYXJlbnQueSArIExheWEuc3RhZ2UuaGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIEdhbWVDb250cm9sLmluc3RhbmNlLmVuZEdhbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSAna2luZW1hdGljJztcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICAvL+m8oOagh+aOp+WItuaWueWQkVxyXG4gICAgICAgIGlmKHRoaXMubm93X21vdXNlX3ggIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnggKyAoTGF5YS5zdGFnZS5tb3VzZVgtdGhpcy5ub3dfbW91c2VfeCkvTGF5YS5zdGFnZS53aWR0aCozMDtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gVmVsb2NpdHlfeCAgPiAwID8gdGhpcy5saWtfcmlnaHQgOiB0aGlzLmxpa19sZWZ0O1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgIHRoaXMubm93X21vdXNlX3ggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgdGhpcy5meCA9IFZlbG9jaXR5X3ggID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICAvL3RoaXMub3duZXIuc2tld1kgPSBWZWxvY2l0eV94ICA+IDAgPyAxODAgOiAwO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBWZWxvY2l0eV94ICA+IDAgPyB0aGlzLmxpa19yaWdodCA6IHRoaXMubGlrX2xlZnQ7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSmV0cGFja0JveCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6YGT5YW357G75Z6L5Yid5aeL5YyW6K6+572uLOmaj+acuuiuvue9ruexu+Wei+OAglxyXG4gICAgICAgIC8v5Li65LqG5aSW6YOo5o6n5Yi25Zmo6IO95o+Q5YmN6I635Y+W5Yiw77yM6YGT5YW357G75Z6L5b+F6aG75Zyo5Yqg6L295YmNKG9uRW5hYmxlKeWIneWni+WMllxyXG4gICAgICAgIHRoaXMuZ3JvdW5kX3R5cGUgPSBcImpldHBhY2tcIjtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLWpldHBhY2sucG5nXCI7XHJcbiAgICAgICAgLy/pmYDonrrku6pcclxuICAgICAgICBMYXlhLkd5cm9zY29wZS5pbnN0YW5jZS5vbihMYXlhLkV2ZW50LkNIQU5HRSwgdGhpcywgdGhpcy5vbkRldmljZW9yaWVudGF0aW9uKTtcclxuICAgICAgICAvL+W+ruS/oeWwj+eoi+W6j+eJiOeahOmZgOieuuS7qlxyXG4gICAgICAgIGlmKHR5cGVvZiB3eCAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHd4LnN0YXJ0QWNjZWxlcm9tZXRlcih7aW50ZXJ2YWw6ICdnYW1lJ30pO1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICB3eC5vbkFjY2VsZXJvbWV0ZXJDaGFuZ2UoZnVuY3Rpb24ocm90YXRpb25JbmZvKXtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gcm90YXRpb25JbmZvLngqMzA7XHJcbiAgICAgICAgICAgICAgICBpZihWZWxvY2l0eV94ICA+IDAgJiYgIWluc3RhbmNlLl9maXJzdCkgaW5zdGFuY2UuaXNSaWdodCgpOyBlbHNlIGluc3RhbmNlLmlzTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fZmlyc3QgJiYgb3RoZXIubGFiZWwgPT09IFwicHJvdGFnb25pc3RcIiAmJiBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9PSAwKSB7XHJcbiAgICAgICAgICAgIG90aGVyLm93bmVyLl9jb21wb25lbnRzWzFdLl9wcm9wID0gMTtcclxuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBqZXRwYWNrID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImpldHBhY2tcIiwgdGhpcy5jcmVhdGVKZXRwYWNrLCB0aGlzKTtcclxuICAgICAgICAgICAgamV0cGFjay5wb3MoMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQoamV0cGFjayk7XHJcbiAgICAgICAgICAgIGpldHBhY2sucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueCA9IG90aGVyLm93bmVyLnggKyA3MDtcclxuICAgICAgICAgICAgdGhpcy5vd25lci55ID0gb3RoZXIub3duZXIueSArIDI2O1xyXG5cclxuICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHt4IDogMCAsIHkgOiAwfSk7XHJcbiAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS50eXBlID0gXCJraW5lbWF0aWNcIjtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSBcImtpbmVtYXRpY1wiO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKG90aGVyLm93bmVyLCB7eSA6IG90aGVyLm93bmVyLnkgLSA0MDAwfSwgODAwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLnR3ZWVuRW5kLFtvdGhlcl0pKTtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLm93bmVyLCB7eSA6IHRoaXMub3duZXIueSAtIDQwMDB9LCA4MDAwLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMudHdlZW5FbmQyLFt0aGlzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVKZXRwYWNrKCkge1xyXG4gICAgICAgIGxldCBhbmkgPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEFuaW1hdGlvbihcImdhbWUvcHJvcF9qZXRwYWNrLmFuaVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJqZXRwYWNrXCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMZWZ0KCl7XHJcbiAgICAgICAgdGhpcy5vd25lci5za2V3WSA9IDA7XHJcbiAgICAgICAgLy90aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgNzA7XHJcbiAgICB9XHJcbiAgICBpc1JpZ2h0KCl7XHJcbiAgICAgICAgdGhpcy5vd25lci5za2V3WSA9IDE4MDtcclxuICAgICAgICAvL3RoaXMub3duZXIueCA9IG90aGVyLm93bmVyLnggKyA1MjtcclxuICAgIH1cclxuXHJcbiAgICB0d2VlbkVuZChvdGhlcil7XHJcbiAgICAgICAgb3RoZXIucmlnaWRCb2R5LnR5cGUgPSBcImR5bmFtaWNcIjtcclxuICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdHdlZW5FbmQyKG1lKXtcclxuICAgICAgICAvL+WKqOeUu+e7hOS7tuenu+mZpFxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oMCx0aGlzLm93bmVyLm51bUNoaWxkcmVuLTEpO1xyXG4gICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLWpldHBhY2stMTAucG5nXCI7XHJcbiAgICAgICAgbWUuX3JpZy50eXBlID0gXCJkeW5hbWljXCI7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhtZS5vd25lciwge3JvdGF0aW9uIDogMzYwfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcIkpldHBhY2tCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgaWYoVmVsb2NpdHlfeCAgPiAwICYmICF0aGlzLl9maXJzdCkgdGhpcy5pc1JpZ2h0KCk7IGVsc2UgdGhpcy5pc0xlZnQoKTtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZWxsZXJCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+mBk+WFt+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOmBk+WFt+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmdyb3VuZF90eXBlID0gXCJwcm9wZWxsZXJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgIC8v6ZmA6J665LuqXHJcbiAgICAgICAgTGF5YS5HeXJvc2NvcGUuaW5zdGFuY2Uub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25EZXZpY2VvcmllbnRhdGlvbik7XHJcbiAgICAgICAgLy/lvq7kv6HlsI/nqIvluo/niYjnmoTpmYDonrrku6pcclxuICAgICAgICBpZih0eXBlb2Ygd3ggIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB3eC5zdGFydEFjY2VsZXJvbWV0ZXIoe2ludGVydmFsOiAnZ2FtZSd9KTtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgd3gub25BY2NlbGVyb21ldGVyQ2hhbmdlKGZ1bmN0aW9uKHJvdGF0aW9uSW5mbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHJvdGF0aW9uSW5mby54KjMwO1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fZmlyc3QgJiYgb3RoZXIubGFiZWwgPT09IFwicHJvdGFnb25pc3RcIiAmJiBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9PSAwKSB7XHJcbiAgICAgICAgICAgIG90aGVyLm93bmVyLl9jb21wb25lbnRzWzFdLl9wcm9wID0gMTtcclxuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9wZWxsZXIgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwicHJvcGVsbGVyXCIsIHRoaXMuY3JlYXRlUHJvcGVsbGVyLCB0aGlzKTtcclxuICAgICAgICAgICAgcHJvcGVsbGVyLnBvcygwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChwcm9wZWxsZXIpO1xyXG4gICAgICAgICAgICBwcm9wZWxsZXIucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueCA9IG90aGVyLm93bmVyLnggKyAyOTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci55ID0gb3RoZXIub3duZXIueSAtMTg7XHJcblxyXG4gICAgICAgICAgICBvdGhlci5yaWdpZEJvZHkuc2V0VmVsb2NpdHkoe3ggOiAwICwgeSA6IDB9KTtcclxuICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnR5cGUgPSBcImtpbmVtYXRpY1wiO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWcudHlwZSA9IFwia2luZW1hdGljXCI7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8ob3RoZXIub3duZXIsIHt5IDogb3RoZXIub3duZXIueSAtIDIwMDB9LCA0MDAwLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMudHdlZW5FbmQsW290aGVyXSkpO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMub3duZXIsIHt5IDogdGhpcy5vd25lci55IC0gMjAwMH0sIDQwMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy50d2VlbkVuZDIsW3RoaXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVByb3BlbGxlcigpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJnYW1lL3Byb3BfcHJvcGVsbGVyLmFuaVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJwcm9wZWxsZXJcIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcbiAgICB0d2VlbkVuZChvdGhlcil7XHJcbiAgICAgICAgb3RoZXIucmlnaWRCb2R5LnR5cGUgPSBcImR5bmFtaWNcIjtcclxuICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdHdlZW5FbmQyKG1lKXtcclxuICAgICAgICAvL+WKqOeUu+e7hOS7tuenu+mZpFxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oMCx0aGlzLm93bmVyLm51bUNoaWxkcmVuLTEpO1xyXG4gICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLXByb3BlbGxlci5wbmdcIjtcclxuICAgICAgICBtZS5fcmlnLnR5cGUgPSBcImR5bmFtaWNcIjtcclxuICAgICAgICBMYXlhLlR3ZWVuLnRvKG1lLm93bmVyLCB7cm90YXRpb24gOiAzNjB9LCAyMDAwKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiUHJvcGVsbGVyQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGV2aWNlb3JpZW50YXRpb24oYWJzb2x1dGUsIHJvdGF0aW9uSW5mbykge1xyXG4gICAgICAgIGlmIChyb3RhdGlvbkluZm8uYWxwaGEgPT09IG51bGwpXHJcblx0XHR7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwi5b2T5YmN6K6+5aSH5LiN5pSv5oyB6ZmA6J665Luq44CCXCIpO1xyXG5cdFx0fWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gKHJvdGF0aW9uSW5mby5nYW1tYSkvOTAqMzA7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaW5nQm94IGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/pgZPlhbfnsbvlnovliJ3lp4vljJborr7nva4s6ZqP5py66K6+572u57G75Z6L44CCXHJcbiAgICAgICAgLy/kuLrkuoblpJbpg6jmjqfliLblmajog73mj5DliY3ojrflj5bliLDvvIzpgZPlhbfnsbvlnovlv4XpobvlnKjliqDovb3liY0ob25FbmFibGUp5Yid5aeL5YyWXHJcbiAgICAgICAgdGhpcy5ncm91bmRfdHlwZSA9IFwic3ByaW5nXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJnYW1lLXRpbGVzL3Byb3AtU3ByaW5nLUNvbXByZXNzaW9uLnBuZ1wiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwicHJvdGFnb25pc3RcIiApIHtcclxuICAgICAgICAgICAgaWYob3RoZXIucmlnaWRCb2R5LmxpbmVhclZlbG9jaXR5LnkgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1TcHJpbmctRXh0ZW5kZWQucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBvdGhlci5yaWdpZEJvZHkuc2V0VmVsb2NpdHkoe3ggOiAwICwgeSA6IC00MH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiU3ByaW5nQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbnZhciBDTEFTUyQ9TGF5YS5jbGFzcztcclxudmFyIFNUQVRJQ0FUVFIkPUxheWEuc3RhdGljO1xudmFyIFZpZXc9bGF5YS51aS5WaWV3O1xyXG52YXIgRGlhbG9nPWxheWEudWkuRGlhbG9nO1xyXG52YXIgU2NlbmU9TGF5YS5TY2VuZTtcbmlmKCF3aW5kb3cudWkpIHdpbmRvdy51aT17fTtcbmV4cG9ydCB7dWkgYXMgZGVmYXVsdH07Il19
