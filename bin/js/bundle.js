var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

var _GameControl = require("./script/GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

var _groundBox = require("./script/groundBox");

var _groundBox2 = _interopRequireDefault(_groundBox);

var _JetpackBox = require("./script/prop/JetpackBox");

var _JetpackBox2 = _interopRequireDefault(_JetpackBox);

var _PropellerBox = require("./script/prop/PropellerBox");

var _PropellerBox2 = _interopRequireDefault(_PropellerBox);

var _SpringBox = require("./script/prop/SpringBox");

var _SpringBox2 = _interopRequireDefault(_SpringBox);

var _hopBox = require("./script/hopBox");

var _hopBox2 = _interopRequireDefault(_hopBox);

var _likBox = require("./script/likBox");

var _likBox2 = _interopRequireDefault(_likBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("script/GameUI.js", _GameUI2.default);
												reg("script/GameControl.js", _GameControl2.default);
												reg("script/groundBox.js", _groundBox2.default);
												reg("script/prop/JetpackBox.js", _JetpackBox2.default);
												reg("script/prop/PropellerBox.js", _PropellerBox2.default);
												reg("script/prop/SpringBox.js", _SpringBox2.default);
												reg("script/hopBox.js", _hopBox2.default);
												reg("script/likBox.js", _likBox2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "game/GameStart.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./script/GameControl":3,"./script/GameUI":4,"./script/groundBox":5,"./script/hopBox":6,"./script/likBox":7,"./script/prop/JetpackBox":8,"./script/prop/PropellerBox":9,"./script/prop/SpringBox":10}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

var _layaMaxUI = require("./ui/layaMaxUI");

var _layaMaxUI2 = _interopRequireDefault(_layaMaxUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1,"./ui/layaMaxUI":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameUI = require("./GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
主要对GameBox的控制
此类型主要控制游戏中物体(如主角、地板)的创建与删除
画面(物理世界)的移动
积分的计算

*/

var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:groundBox,tips:"地板对象",type:Prefab}*/
    /** @prop {name:likBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:hopBox,tips:"角色对象",type:Prefab}*/
    /** @prop {name:PropellerBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:SpringBox,tips:"道具对象",type:Prefab}*/
    /** @prop {name:JetpackBox,tips:"道具对象",type:Prefab}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));

        GameControl.instance = _this;
        return _this;
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            //DebugPanel.init();
            this._started = false;

            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            //需要创建绿地的最高位置(设置为负值意味着还未显示提前加载)
            this._Ground_max = -100;
            //两绿地垂直最高距离(或人物跳跃最高高度)
            this.gorund_apart_height = 130;

            //画面移动时的缓动开关
            this._tween = true;
            this._rig = this.owner.getComponent(Laya.RigidBody);

            //将physicsDebug的绘画范围改为物理世界(GameBox)，同时更改对应代码(laya.physics.js:3639)
            this._debug = Laya["PhysicsDebugDraw"].enable();
            this._isdebug = false;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            if (this._isdebug) {
                this.owner.removeChild(this._debug);
                this._isdebug = false;
            } else {
                this.owner.addChild(this._debug);
                this._isdebug = true;
            }
        }
    }, {
        key: "createGround",
        value: function createGround() {
            while (this.Ground_max > -this.owner.y + this._Ground_max) {
                var Ground_max = this.Ground_max - Math.random() * this.gorund_apart_height - 31;
                var Ground_width = Math.random() * (Laya.stage.width - 120);
                var ground = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
                ground.pos(Ground_width, Ground_max);
                //brown类型的地板属于额外地板类型
                if (ground._components[2].ground_type != "brown") this.Ground_max = Ground_max;
                this.owner.addChild(ground);

                //随机在地板上创建道具
                if (ground._components[2].ground_type == "green" && Math.random() > 0.1) {
                    this.createProp(Ground_width, Ground_max);
                }
            }
        }
        //创建道具

    }, {
        key: "createProp",
        value: function createProp(x, y) {
            var randomNumber = Math.random();
            var prop;
            if (randomNumber > 0.9) {
                prop = Laya.Pool.getItemByCreateFun("JetpackBox", this.JetpackBox.create, this.JetpackBox);
                prop.pos(x + Math.random() * 80 + 10, y - 85);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.8) {
                prop = Laya.Pool.getItemByCreateFun("PropellerBox", this.PropellerBox.create, this.PropellerBox);
                prop.pos(x + Math.random() * 80 + 10, y - 54);
                this.owner.addChild(prop);
            } else if (randomNumber >= 0.5) {
                prop = Laya.Pool.getItemByCreateFun("SpringBox", this.SpringBox.create, this.SpringBox);
                prop.pos(x + Math.random() * 80 + 10, y - 50);
                this.owner.addChild(prop);
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果主角达到屏幕一半高度时界面向下移动
            if (this._started) {
                if (this.protagonist._y < -this.owner.y + Laya.stage.height / 3) {

                    if (this._tween) {
                        this._tween = false;
                        this._rig.setVelocity({ x: 0, y: 10 });
                    }

                    //this.owner.y += 5;
                    _GameUI2.default.instance.addScore(1);
                    this.createGround();
                } else {
                    this._rig.setVelocity({ x: 0, y: 0 });
                    this._tween = true;
                }
            }
        }
    }, {
        key: "tween_run",
        value: function tween_run() {
            this._tween = true;
        }
    }, {
        key: "startGame",
        value: function startGame() {
            if (this._started) return;
            this._started = true;
            //当前创建绿地的最高位置
            this.Ground_max = Laya.stage.height;
            this.owner.y = 0;
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            if (this._isdebug) this.owner.addChild(this._debug);
            //创建主角(likBox/hopBox)
            this.protagonist = Laya.Pool.getItemByCreateFun("likBox", this.likBox.create, this.likBox);
            this.protagonist.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            this.owner.addChild(this.protagonist);

            //创建草地
            var gorund = Laya.Pool.getItemByCreateFun("groundBox", this.groundBox.create, this.groundBox);
            gorund.pos(Laya.stage.width / 2, Laya.stage.height - 100);
            this.owner.addChild(gorund);
            this.createGround();
        }
    }, {
        key: "endGame",
        value: function endGame() {
            Laya.Tween.to(this.owner, { y: this.owner.y - 800 }, 100);
            this._started = false;
            _GameUI2.default.instance.endGame();
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"./GameUI":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
主要对场景GameStart的控制，
积分的显示，背景图片调节，游戏框体
*/
var GameUI = function (_Laya$Scene) {
    _inherits(GameUI, _Laya$Scene);

    function GameUI() {
        _classCallCheck(this, GameUI);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

        GameUI.instance = _this;
        //关闭多点触控
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }

    _createClass(GameUI, [{
        key: "onEnable",
        value: function onEnable() {
            //戏控制脚本引用，避免每次获取组件带来不必要的性能开销
            //this._control = this.getComponent(GameControl);

            //背景图片大小自适应屏幕
            this._bckImg = this._children[0];
            this._bckImg.width = Laya.stage.width;
            this._bckImg.height = Laya.stage.height;

            //位图字体的使用
            this.mFontName = "font";
            this.mBitmapFont = new Laya.BitmapFont();
            this.mBitmapFont.loadFont("bitmapFont/font.fnt", new Laya.Handler(this, this.onLoaded));
            //高度(分数)
            this.score = 0;
            this.score_text = this._children[2];

            //将物理世界指定为Gamebo
            this._gameBox = this._children[1];
            Laya.Physics.I.worldRoot = this._gameBox;
            //开始游戏按钮
            this.playButton.on(Laya.Event.CLICK, this, this.startGame);
            //碰撞框显示
            this.debug.on(Laya.Event.CLICK, this, this.isdebug);
        }
    }, {
        key: "onLoaded",
        value: function onLoaded() {
            this.init();
        }
    }, {
        key: "init",
        value: function init() {
            //如果位图字体中，没放空格，最好设置一个空格宽度
            //this.mBitmapFont.setSpaceWidth(10);
            Laya.Text.registerBitmapFont(this.mFontName, this.mBitmapFont);
            this.score_text.font = this.mFontName;
        }

        /* 增加分数 */

    }, {
        key: "addScore",
        value: function addScore(value) {
            this.score += value;
            this.score_text.text = this.score;
        }
    }, {
        key: "isdebug",
        value: function isdebug() {
            this._gameBox._components[0].isdebug();
        }
        /* 开始游戏 */

    }, {
        key: "startGame",
        value: function startGame() {
            this.score = 0;
            this.score_text.text = this.score;
            this.playButton.visible = false;
            this.gameTilte.visible = false;
            this.gameTilte.texture = "game-tiles-interface/race-over.png";
            this._gameBox._components[0].startGame();
        }

        /* 停止游戏 */

    }, {
        key: "endGame",
        value: function endGame() {
            this.playButton.visible = true;
            this.gameTilte.visible = true;
            //this._control.stopGame();
        }
    }]);

    return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./GameControl":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var groundBox = function (_Laya$Script) {
    _inherits(groundBox, _Laya$Script);

    function groundBox() {
        _classCallCheck(this, groundBox);

        //地板类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，地板类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (groundBox.__proto__ || Object.getPrototypeOf(groundBox)).call(this));

        var ground_typeAll = ["green", "blue", "white", "brown", "tan"];
        _this.ground_type = ground_typeAll[Math.floor(Math.random() * ground_typeAll.length)];
        //this.ground_type = "tan";
        return _this;
    }

    _createClass(groundBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //加载相应类型的地板图片
            this.owner.texture = "game-tiles/ground-" + this.ground_type + ".png";
            //反弹速度
            this.jump_height = -25;
            this.GroundType_onEnable();
        }

        //针对不同类型的地板进行不同的初始化

    }, {
        key: "GroundType_onEnable",
        value: function GroundType_onEnable() {
            switch (this.ground_type) {
                case "blue":
                    this._rig.setVelocity({ x: -5, y: 0 });
                    break;

                case "tan":
                    this.ani_play = true;
                    break;
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //针对不同类型地板的不同事件
            if (this.ground_type == "blue") {
                if (this.owner.x <= 0) {
                    this._rig.setVelocity({ x: 5, y: 0 });
                } else if (this.owner.x >= Laya.stage.width - this.owner.width) {
                    this._rig.setVelocity({ x: -5, y: 0 });
                }
            } else if (this.ground_type == "tan" && this.ani_play) {
                if (this.owner.y > -this.owner._parent.y + Laya.stage.height / 4) {
                    this.ani_play = false;
                    var tan = Laya.Pool.getItemByCreateFun("tan", this.createTan, this);
                    tan.pos(0, 0);
                    this.owner.addChild(tan);
                    tan.play(0, false);
                    this.owner.texture = "";
                }
            }

            //如果地板超出屏幕，移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    switch (this.ground_type) {
                        case "white":
                            this.owner.removeSelf();
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        case "brown":
                            var brown = Laya.Pool.getItemByCreateFun("brown", this.createBrown, this);
                            brown.pos(0, 0);
                            this.owner.addChild(brown);
                            brown.play(0, false);
                            this.owner.texture = "";
                            this._rig.setVelocity({ x: 0, y: 10 });
                            break;

                        case "tan":
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                            break;

                        default:
                            other.rigidBody.setVelocity({ x: 0, y: this.jump_height });
                    }
                }
            }
        }

        /**使用对象池创建brown地板动画 */

    }, {
        key: "createBrown",
        value: function createBrown() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/ground_brown.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("brown", ani);
            }
            return ani;
        }

        /**使用对象池创建tan地板动画 */

    }, {
        key: "createTan",
        value: function createTan() {
            var ani = new Laya.Animation();
            var Me = this;
            ani.loadAnimation("game/ground_tan.ani");
            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("tan", ani);
            }
            ani.on(Laya.Event.COMPLETE, null, complete);
            function complete() {
                Me.owner.removeSelf();
            }
            return ani;
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("groundBox", this.owner);
        }
    }]);

    return groundBox;
}(Laya.Script);

exports.default = groundBox;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var hopBox = function (_Laya$Script) {
    _inherits(hopBox, _Laya$Script);

    function hopBox() {
        _classCallCheck(this, hopBox);

        return _possibleConstructorReturn(this, (hopBox.__proto__ || Object.getPrototypeOf(hopBox)).call(this));
    }

    _createClass(hopBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            //跳跃高度
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "hop/hop-" + this.fx + "-touch.png";
                }
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent._y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            if (this._rig.linearVelocity.y > 0) {
                this.owner.texture = "hop/hop-" + this.fx + "-fall.png";
            } else {
                this.owner.texture = "hop/hop-" + this.fx + "-jump.png";
            }
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return hopBox;
}(Laya.Script);

exports.default = hopBox;

},{"./GameControl":3}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var likBox = function (_Laya$Script) {
    _inherits(likBox, _Laya$Script);

    function likBox() {
        _classCallCheck(this, likBox);

        return _possibleConstructorReturn(this, (likBox.__proto__ || Object.getPrototypeOf(likBox)).call(this));
    }

    _createClass(likBox, [{
        key: "onEnable",
        value: function onEnable() {
            //角色道具装备状态
            this._prop = 0;
            //角色方向
            this.fx = "left";
            this.lik_right = "lik/lik-right.png";
            this.lik_left = "lik/lik-left.png";
            //跳跃高度
            this.jump_height = -25;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //设置初始速度
            this._rig.setVelocity({ x: 0, y: this.jump_height });
            //记录鼠标移动前的位置
            this.now_mouse_x = null;

            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    instance.fx = Velocity_x > 0 ? "right" : "left";
                    //instance.owner.skewY = Velocity_x  > 0 ? 180 : 0;
                    instance.owner.texture = Velocity_x > 0 ? instance.lik_right : instance.lik_left;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "groundBox") {
                //下落过程中的碰撞处理
                if (this._rig.linearVelocity.y >= 0) {
                    this.owner.texture = "lik/lik-" + this.fx + "-odskok.png";
                    //this._rig.setVelocity({ x: 0, y: this.jump_height });
                }
            }
        }

        /*
        onStageMouseDown(){
            this.now_mouse_x = Laya.stage.mouseX;
        }
          onStageMouseUp(){
            this.now_mouse_x = null;
        }
        */

    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.owner.x > Laya.stage.width) this.owner.x = -this.owner.width;else if (this.owner.x < -this.owner.width) this.owner.x = Laya.stage.width;
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                _GameControl2.default.instance.endGame();
                this._rig.type = 'kinematic';
                this._rig.setVelocity({ x: 0, y: 1 });
            }
            /*
            //鼠标控制方向
            if(this.now_mouse_x != null){
                let Velocity_x = this._rig.linearVelocity.x + (Laya.stage.mouseX-this.now_mouse_x)/Laya.stage.width*30;
                this.owner.texture = Velocity_x  > 0 ? this.lik_right : this.lik_left;
                let Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this.now_mouse_x = Laya.stage.mouseX;
                this._rig.linearVelocity = Velocity;
            }
            */
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                this.fx = Velocity_x > 0 ? "right" : "left";
                //this.owner.skewY = Velocity_x  > 0 ? 180 : 0;
                this.owner.texture = Velocity_x > 0 ? this.lik_right : this.lik_left;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return likBox;
}(Laya.Script);

exports.default = likBox;

},{"./GameControl":3}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var JetpackBox = function (_Laya$Script) {
    _inherits(JetpackBox, _Laya$Script);

    function JetpackBox() {
        _classCallCheck(this, JetpackBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (JetpackBox.__proto__ || Object.getPrototypeOf(JetpackBox)).call(this));

        _this.ground_type = "jetpack";
        return _this;
    }

    _createClass(JetpackBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            this.owner.texture = "game-tiles/prop-jetpack.png";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    if (Velocity_x > 0 && !instance._first) instance.isRight();else instance.isLeft();
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var jetpack = Laya.Pool.getItemByCreateFun("jetpack", this.createJetpack, this);
                jetpack.pos(0, 0);
                this.owner.addChild(jetpack);
                jetpack.play(0, true);
                this.owner.texture = "";

                this.owner.x = other.owner.x + 70;
                this.owner.y = other.owner.y + 26;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 4000 }, 8000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createJetpack",
        value: function createJetpack() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/prop_jetpack.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("jetpack", ani);
            }
            return ani;
        }
    }, {
        key: "isLeft",
        value: function isLeft() {
            this.owner.skewY = 0;
            //this.owner.x = other.owner.x + 70;
        }
    }, {
        key: "isRight",
        value: function isRight() {
            this.owner.skewY = 180;
            //this.owner.x = other.owner.x + 52;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-jetpack-10.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("JetpackBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                if (Velocity_x > 0 && !this._first) this.isRight();else this.isLeft();
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return JetpackBox;
}(Laya.Script);

exports.default = JetpackBox;

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PropellerBox = function (_Laya$Script) {
    _inherits(PropellerBox, _Laya$Script);

    function PropellerBox() {
        _classCallCheck(this, PropellerBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (PropellerBox.__proto__ || Object.getPrototypeOf(PropellerBox)).call(this));

        _this.ground_type = "propeller";
        return _this;
    }

    _createClass(PropellerBox, [{
        key: "onEnable",
        value: function onEnable() {
            this._first = true;
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this._rig.type = "static";
            //陀螺仪
            Laya.Gyroscope.instance.on(Laya.Event.CHANGE, this, this.onDeviceorientation);
            //微信小程序版的陀螺仪
            if (typeof wx !== "undefined") {
                wx.startAccelerometer({ interval: 'game' });
                var instance = this;
                wx.onAccelerometerChange(function (rotationInfo) {
                    var Velocity_x = rotationInfo.x * 30;
                    var Velocity = { x: Velocity_x, y: instance._rig.linearVelocity.y };
                    instance._rig.linearVelocity = Velocity;
                });
            }
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (this._first && other.label === "protagonist" && other.owner._components[1]._prop == 0) {
                other.owner._components[1]._prop = 1;
                this._first = false;

                var propeller = Laya.Pool.getItemByCreateFun("propeller", this.createPropeller, this);
                propeller.pos(0, 0);
                this.owner.addChild(propeller);
                propeller.play(0, true);
                this.owner.texture = "";

                this.owner.x = other.owner.x + 29;
                this.owner.y = other.owner.y - 18;

                other.rigidBody.setVelocity({ x: 0, y: 0 });
                other.rigidBody.type = "kinematic";
                this._rig.type = "kinematic";
                Laya.Tween.to(other.owner, { y: other.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd, [other]));
                Laya.Tween.to(this.owner, { y: this.owner.y - 2000 }, 4000, null, Laya.Handler.create(this, this.tweenEnd2, [this]));
            }
        }
    }, {
        key: "createPropeller",
        value: function createPropeller() {
            var ani = new Laya.Animation();
            ani.loadAnimation("game/prop_propeller.ani");

            ani.on(Laya.Event.COMPONENT_REMOVED, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("propeller", ani);
            }
            return ani;
        }
    }, {
        key: "tweenEnd",
        value: function tweenEnd(other) {
            other.rigidBody.type = "dynamic";
            other.owner._components[1]._prop = 0;
        }
    }, {
        key: "tweenEnd2",
        value: function tweenEnd2(me) {
            //动画组件移除
            this.owner.removeChildren(0, this.owner.numChildren - 1);
            this.owner.texture = "game-tiles/prop-propeller.png";
            me._rig.type = "dynamic";
            Laya.Tween.to(me.owner, { rotation: 360 }, 2000);
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("PropellerBox", this.owner);
        }
    }, {
        key: "onDeviceorientation",
        value: function onDeviceorientation(absolute, rotationInfo) {
            if (rotationInfo.alpha === null) {
                console.log("当前设备不支持陀螺仪。");
            } else {
                var Velocity_x = rotationInfo.gamma / 90 * 30;
                var Velocity = { x: Velocity_x, y: this._rig.linearVelocity.y };
                this._rig.linearVelocity = Velocity;
            }
        }
    }]);

    return PropellerBox;
}(Laya.Script);

exports.default = PropellerBox;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SpringBox = function (_Laya$Script) {
    _inherits(SpringBox, _Laya$Script);

    function SpringBox() {
        _classCallCheck(this, SpringBox);

        //道具类型初始化设置,随机设置类型。
        //为了外部控制器能提前获取到，道具类型必须在加载前(onEnable)初始化
        var _this = _possibleConstructorReturn(this, (SpringBox.__proto__ || Object.getPrototypeOf(SpringBox)).call(this));

        _this.ground_type = "spring";
        return _this;
    }

    _createClass(SpringBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            this.owner.texture = "game-tiles/prop-Spring-Compression.png";
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果地板超出屏幕，则移除地板
            if (this.owner.y > -this.owner._parent.y + Laya.stage.height) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            if (other.label === "protagonist") {
                if (other.rigidBody.linearVelocity.y >= 0) {
                    this.owner.texture = "game-tiles/prop-Spring-Extended.png";
                    other.rigidBody.setVelocity({ x: 0, y: -40 });
                }
            }
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("SpringBox", this.owner);
        }
    }]);

    return SpringBox;
}(Laya.Script);

exports.default = SpringBox;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var CLASS$ = Laya.class;
var STATICATTR$ = Laya.static;
var View = laya.ui.View;
var Dialog = laya.ui.Dialog;
var Scene = Laya.Scene;
if (!window.ui) window.ui = {};
exports.default = ui;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLmpzIiwic3JjL01haW4uanMiLCJzcmMvc2NyaXB0L0dhbWVDb250cm9sLmpzIiwic3JjL3NjcmlwdC9HYW1lVUkuanMiLCJzcmMvc2NyaXB0L2dyb3VuZEJveC5qcyIsInNyYy9zY3JpcHQvaG9wQm94LmpzIiwic3JjL3NjcmlwdC9saWtCb3guanMiLCJzcmMvc2NyaXB0L3Byb3AvSmV0cGFja0JveC5qcyIsInNyYy9zY3JpcHQvcHJvcC9Qcm9wZWxsZXJCb3guanMiLCJzcmMvc2NyaXB0L3Byb3AvU3ByaW5nQm94LmpzIiwic3JjL3VpL2xheWFNYXhVSS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O3FqQkNWQTs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7Ozs7OzsrQkFDSDtBQUNWO0FBQ0EsZ0JBQUksTUFBTSxLQUFLLFVBQUwsQ0FBZ0IsUUFBMUI7QUFDTixnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSx1QkFBSixFQUE0QixxQkFBNUI7QUFDQSxnQkFBSSxxQkFBSixFQUEwQixtQkFBMUI7QUFDQSxnQkFBSSwyQkFBSixFQUFnQyxvQkFBaEM7QUFDQSxnQkFBSSw2QkFBSixFQUFrQyxzQkFBbEM7QUFDQSxnQkFBSSwwQkFBSixFQUErQixtQkFBL0I7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDRzs7Ozs7O2tCQVpnQixVOztBQWNyQixXQUFXLEtBQVgsR0FBbUIs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QUNIOzs7bUNBRVU7QUFDUDtBQUNBLGdCQUFJLEtBQUssS0FBTCxDQUFXLENBQVgsR0FBZSxDQUFDLEtBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsQ0FBcEIsR0FBc0IsS0FBSyxLQUFMLENBQVcsTUFBcEQsRUFBNEQ7QUFDeEQscUJBQUssS0FBTCxDQUFXLFVBQVg7QUFDSDtBQUNKOzs7dUNBRWMsSyxFQUFPLEksRUFBTSxPLEVBQVM7QUFDakMsZ0JBQUksTUFBTSxLQUFOLEtBQWdCLGFBQXBCLEVBQW9DO0FBQ2hDLG9CQUFHLE1BQU0sU0FBTixDQUFnQixjQUFoQixDQUErQixDQUEvQixJQUFvQyxDQUF2QyxFQUF5QztBQUNyQyx5QkFBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixxQ0FBckI7QUFDQSwwQkFBTSxTQUFOLENBQWdCLFdBQWhCLENBQTRCLEVBQUMsR0FBSSxDQUFMLEVBQVMsR0FBSSxDQUFDLEVBQWQsRUFBNUI7QUFDSDtBQUNKO0FBQ0o7OztvQ0FFVztBQUNSO0FBQ0EsaUJBQUssSUFBTCxDQUFVLE9BQVYsQ0FBa0IsV0FBbEIsRUFBK0IsS0FBSyxLQUFwQztBQUNIOzs7O0VBakNrQyxLQUFLLE07O2tCQUF2QixTOzs7Ozs7OztBQ0ZyQjtBQUNBLElBQUksU0FBTyxLQUFLLEtBQWhCO0FBQ0EsSUFBSSxjQUFZLEtBQUssTUFBckI7QUFDQSxJQUFJLE9BQUssS0FBSyxFQUFMLENBQVEsSUFBakI7QUFDQSxJQUFJLFNBQU8sS0FBSyxFQUFMLENBQVEsTUFBbkI7QUFDQSxJQUFJLFFBQU0sS0FBSyxLQUFmO0FBQ0EsSUFBRyxDQUFDLE9BQU8sRUFBWCxFQUFlLE9BQU8sRUFBUCxHQUFVLEVBQVY7UUFDRCxPLEdBQU4sRSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29udHJvbFwiXHJcbmltcG9ydCBncm91bmRCb3ggZnJvbSBcIi4vc2NyaXB0L2dyb3VuZEJveFwiXHJcbmltcG9ydCBKZXRwYWNrQm94IGZyb20gXCIuL3NjcmlwdC9wcm9wL0pldHBhY2tCb3hcIlxyXG5pbXBvcnQgUHJvcGVsbGVyQm94IGZyb20gXCIuL3NjcmlwdC9wcm9wL1Byb3BlbGxlckJveFwiXHJcbmltcG9ydCBTcHJpbmdCb3ggZnJvbSBcIi4vc2NyaXB0L3Byb3AvU3ByaW5nQm94XCJcclxuaW1wb3J0IGhvcEJveCBmcm9tIFwiLi9zY3JpcHQvaG9wQm94XCJcclxuaW1wb3J0IGxpa0JveCBmcm9tIFwiLi9zY3JpcHQvbGlrQm94XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWcge1xyXG4gICAgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgICAgLy/ms6jlhoxTY3JpcHTmiJbogIVSdW50aW1l5byV55SoXHJcbiAgICAgICAgbGV0IHJlZyA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuXHRcdHJlZyhcInNjcmlwdC9HYW1lVUkuanNcIixHYW1lVUkpO1xyXG5cdFx0cmVnKFwic2NyaXB0L0dhbWVDb250cm9sLmpzXCIsR2FtZUNvbnRyb2wpO1xyXG5cdFx0cmVnKFwic2NyaXB0L2dyb3VuZEJveC5qc1wiLGdyb3VuZEJveCk7XHJcblx0XHRyZWcoXCJzY3JpcHQvcHJvcC9KZXRwYWNrQm94LmpzXCIsSmV0cGFja0JveCk7XHJcblx0XHRyZWcoXCJzY3JpcHQvcHJvcC9Qcm9wZWxsZXJCb3guanNcIixQcm9wZWxsZXJCb3gpO1xyXG5cdFx0cmVnKFwic2NyaXB0L3Byb3AvU3ByaW5nQm94LmpzXCIsU3ByaW5nQm94KTtcclxuXHRcdHJlZyhcInNjcmlwdC9ob3BCb3guanNcIixob3BCb3gpO1xyXG5cdFx0cmVnKFwic2NyaXB0L2xpa0JveC5qc1wiLGxpa0JveCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy53aWR0aCA9IDY0MDtcclxuR2FtZUNvbmZpZy5oZWlnaHQgPSAxMTM2O1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJmaXhlZHdpZHRoXCI7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwibm9uZVwiO1xyXG5HYW1lQ29uZmlnLmFsaWduViA9IFwidG9wXCI7XHJcbkdhbWVDb25maWcuYWxpZ25IID0gXCJsZWZ0XCI7XHJcbkdhbWVDb25maWcuc3RhcnRTY2VuZSA9IFwiZ2FtZS9HYW1lU3RhcnQuc2NlbmVcIjtcclxuR2FtZUNvbmZpZy5zY2VuZVJvb3QgPSBcIlwiO1xyXG5HYW1lQ29uZmlnLmRlYnVnID0gZmFsc2U7XHJcbkdhbWVDb25maWcuc3RhdCA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uID0gdHJ1ZTtcclxuXHJcbkdhbWVDb25maWcuaW5pdCgpO1xyXG4iLCLvu79pbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCB1aSBmcm9tIFwiLi91aS9sYXlhTWF4VUlcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb25maWcuYWxpZ25WO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29uZmlnLmFsaWduSDtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKSB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCkge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuICAgIFxyXG4vKlxyXG7kuLvopoHlr7lHYW1lQm9455qE5o6n5Yi2XHJcbuatpOexu+Wei+S4u+imgeaOp+WItua4uOaIj+S4reeJqeS9kyjlpoLkuLvop5LjgIHlnLDmnb8p55qE5Yib5bu65LiO5Yig6ZmkXHJcbueUu+mdoijniannkIbkuJbnlYwp55qE56e75YqoXHJcbuenr+WIhueahOiuoeeul1xyXG5cclxuKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmdyb3VuZEJveCx0aXBzOlwi5Zyw5p2/5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpsaWtCb3gsdGlwczpcIuinkuiJsuWvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6aG9wQm94LHRpcHM6XCLop5LoibLlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOlByb3BlbGxlckJveCx0aXBzOlwi6YGT5YW35a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpTcHJpbmdCb3gsdGlwczpcIumBk+WFt+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6SmV0cGFja0JveCx0aXBzOlwi6YGT5YW35a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoXHJcbiAgICAgICAgR2FtZUNvbnRyb2wuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgLy9EZWJ1Z1BhbmVsLmluaXQoKTtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8v5b2T5YmN5Yib5bu657u/5Zyw55qE5pyA6auY5L2N572uXHJcbiAgICAgICAgdGhpcy5Hcm91bmRfbWF4ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgLy/pnIDopoHliJvlu7rnu7/lnLDnmoTmnIDpq5jkvY3nva4o6K6+572u5Li66LSf5YC85oSP5ZGz552A6L+Y5pyq5pi+56S65o+Q5YmN5Yqg6L29KVxyXG4gICAgICAgIHRoaXMuX0dyb3VuZF9tYXggPSAtMTAwO1xyXG4gICAgICAgIC8v5Lik57u/5Zyw5Z6C55u05pyA6auY6Led56a7KOaIluS6uueJqei3s+i3g+acgOmrmOmrmOW6pilcclxuICAgICAgICB0aGlzLmdvcnVuZF9hcGFydF9oZWlnaHQgPSAxMzA7XHJcblxyXG4gICAgICAgIC8v55S76Z2i56e75Yqo5pe255qE57yT5Yqo5byA5YWzXHJcbiAgICAgICAgdGhpcy5fdHdlZW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuXHJcbiAgICAgICAgLy/lsIZwaHlzaWNzRGVidWfnmoTnu5jnlLvojIPlm7TmlLnkuLrniannkIbkuJbnlYwoR2FtZUJveCnvvIzlkIzml7bmm7TmlLnlr7nlupTku6PnoIEobGF5YS5waHlzaWNzLmpzOjM2MzkpXHJcbiAgICAgICAgdGhpcy5fZGVidWcgPSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuICAgICAgICB0aGlzLl9pc2RlYnVnID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpc2RlYnVnKCl7XHJcbiAgICAgICAgaWYodGhpcy5faXNkZWJ1Zyl7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGQodGhpcy5fZGVidWcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc2RlYnVnID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fZGVidWcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc2RlYnVnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlR3JvdW5kKCl7XHJcbiAgICAgICAgd2hpbGUodGhpcy5Hcm91bmRfbWF4ID4gLXRoaXMub3duZXIueSt0aGlzLl9Hcm91bmRfbWF4KXtcclxuICAgICAgICAgICAgbGV0IEdyb3VuZF9tYXggPSAgdGhpcy5Hcm91bmRfbWF4IC0gTWF0aC5yYW5kb20oKSAqIHRoaXMuZ29ydW5kX2FwYXJ0X2hlaWdodCAtIDMxO1xyXG4gICAgICAgICAgICBsZXQgR3JvdW5kX3dpZHRoID0gTWF0aC5yYW5kb20oKSAqIChMYXlhLnN0YWdlLndpZHRoIC0gMTIwKTtcclxuICAgICAgICAgICAgbGV0IGdyb3VuZCA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJncm91bmRCb3hcIiwgdGhpcy5ncm91bmRCb3guY3JlYXRlLCB0aGlzLmdyb3VuZEJveCk7XHJcbiAgICAgICAgICAgIGdyb3VuZC5wb3MoR3JvdW5kX3dpZHRoLCBHcm91bmRfbWF4KTtcclxuICAgICAgICAgICAgLy9icm93buexu+Wei+eahOWcsOadv+WxnuS6jumineWkluWcsOadv+exu+Wei1xyXG4gICAgICAgICAgICBpZihncm91bmQuX2NvbXBvbmVudHNbMl0uZ3JvdW5kX3R5cGUgIT0gXCJicm93blwiKXRoaXMuR3JvdW5kX21heCA9IEdyb3VuZF9tYXg7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQoZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8v6ZqP5py65Zyo5Zyw5p2/5LiK5Yib5bu66YGT5YW3XHJcbiAgICAgICAgICAgIGlmKCBncm91bmQuX2NvbXBvbmVudHNbMl0uZ3JvdW5kX3R5cGUgPT0gXCJncmVlblwiICAmJiBNYXRoLnJhbmRvbSgpID4gMC4xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcChHcm91bmRfd2lkdGgsR3JvdW5kX21heCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+WIm+W7uumBk+WFt1xyXG4gICAgY3JlYXRlUHJvcCh4LHkpe1xyXG4gICAgICAgIHZhciByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgIGlmKHJhbmRvbU51bWJlciA+IDAuOSl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiSmV0cGFja0JveFwiLCB0aGlzLkpldHBhY2tCb3guY3JlYXRlLCB0aGlzLkpldHBhY2tCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDgwICsgMTAsIHkgLSA4NSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfWVsc2UgaWYocmFuZG9tTnVtYmVyID49IDAuOCl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiUHJvcGVsbGVyQm94XCIsIHRoaXMuUHJvcGVsbGVyQm94LmNyZWF0ZSwgdGhpcy5Qcm9wZWxsZXJCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDgwICsgMTAsIHkgLSA1NCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfWVsc2UgaWYocmFuZG9tTnVtYmVyID49IDAuNSl7XHJcbiAgICAgICAgICAgIHByb3AgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiU3ByaW5nQm94XCIsIHRoaXMuU3ByaW5nQm94LmNyZWF0ZSwgdGhpcy5TcHJpbmdCb3gpO1xyXG4gICAgICAgICAgICBwcm9wLnBvcyh4ICsgTWF0aC5yYW5kb20oKSAqIDgwICsgMTAsIHkgLSA1MCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIC8v5aaC5p6c5Li76KeS6L6+5Yiw5bGP5bmV5LiA5Y2K6auY5bqm5pe255WM6Z2i5ZCR5LiL56e75YqoXHJcbiAgICAgICAgaWYodGhpcy5fc3RhcnRlZCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucHJvdGFnb25pc3QuX3kgPCAoLXRoaXMub3duZXIueSArIExheWEuc3RhZ2UuaGVpZ2h0IC8gMykpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl90d2Vlbil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHdlZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAxMCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy90aGlzLm93bmVyLnkgKz0gNTtcclxuICAgICAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5hZGRTY29yZSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JvdW5kKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R3ZWVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHR3ZWVuX3J1bigpe1xyXG4gICAgICAgIHRoaXMuX3R3ZWVuID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEdhbWUoKXtcclxuICAgICAgICBpZih0aGlzLl9zdGFydGVkKSByZXR1cm4gO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIC8v5b2T5YmN5Yib5bu657u/5Zyw55qE5pyA6auY5L2N572uXHJcbiAgICAgICAgdGhpcy5Hcm91bmRfbWF4ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5vd25lci55PTA7XHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVDaGlsZHJlbigwLHRoaXMub3duZXIubnVtQ2hpbGRyZW4tMSk7XHJcbiAgICAgICAgaWYodGhpcy5faXNkZWJ1Zyl0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMuX2RlYnVnKTtcclxuICAgICAgICAvL+WIm+W7uuS4u+inkihsaWtCb3gvaG9wQm94KVxyXG4gICAgICAgIHRoaXMucHJvdGFnb25pc3QgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwibGlrQm94XCIsIHRoaXMubGlrQm94LmNyZWF0ZSwgdGhpcy5saWtCb3gpO1xyXG4gICAgICAgIHRoaXMucHJvdGFnb25pc3QucG9zKExheWEuc3RhZ2Uud2lkdGggLyAyLCBMYXlhLnN0YWdlLmhlaWdodCAtIDEwMCk7XHJcbiAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLnByb3RhZ29uaXN0KTtcclxuICAgICAgICBcclxuICAgICAgICAvL+WIm+W7uuiNieWcsFxyXG4gICAgICAgIGxldCBnb3J1bmQgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZ3JvdW5kQm94XCIsIHRoaXMuZ3JvdW5kQm94LmNyZWF0ZSwgdGhpcy5ncm91bmRCb3gpO1xyXG4gICAgICAgIGdvcnVuZC5wb3MoTGF5YS5zdGFnZS53aWR0aCAvIDIsIExheWEuc3RhZ2UuaGVpZ2h0IC0gMTAwKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGdvcnVuZCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVHcm91bmQoKTtcclxuICAgIH1cclxuICAgIGVuZEdhbWUoKXtcclxuICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMub3duZXIsIHt5IDogdGhpcy5vd25lci55IC0gODAwfSwgMTAwKTtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlLmVuZEdhbWUoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcblxyXG4vKlxyXG7kuLvopoHlr7nlnLrmma9HYW1lU3RhcnTnmoTmjqfliLbvvIxcclxu56ev5YiG55qE5pi+56S677yM6IOM5pmv5Zu+54mH6LCD6IqC77yM5ri45oiP5qGG5L2TXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIExheWEuU2NlbmV7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/orr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKhcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6nXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v5oiP5o6n5Yi26ISa5pys5byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5oCn6IO95byA6ZSAXHJcbiAgICAgICAgLy90aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xyXG5cclxuICAgICAgICAvL+iDjOaZr+WbvueJh+Wkp+Wwj+iHqumAguW6lOWxj+W5lVxyXG4gICAgICAgIHRoaXMuX2Jja0ltZyA9IHRoaXMuX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIHRoaXMuX2Jja0ltZy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5fYmNrSW1nLmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvL+S9jeWbvuWtl+S9k+eahOS9v+eUqFxyXG4gICAgICAgIHRoaXMubUZvbnROYW1lID0gXCJmb250XCI7XHJcbiAgICAgICAgdGhpcy5tQml0bWFwRm9udCA9IG5ldyBMYXlhLkJpdG1hcEZvbnQoKTtcclxuICAgICAgICB0aGlzLm1CaXRtYXBGb250LmxvYWRGb250KFwiYml0bWFwRm9udC9mb250LmZudFwiLG5ldyBMYXlhLkhhbmRsZXIodGhpcyx0aGlzLm9uTG9hZGVkKSk7XHJcbiAgICAgICAgLy/pq5jluqYo5YiG5pWwKVxyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVfdGV4dCA9IHRoaXMuX2NoaWxkcmVuWzJdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5bCG54mp55CG5LiW55WM5oyH5a6a5Li6R2FtZWJvXHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMuX2NoaWxkcmVuWzFdO1xyXG4gICAgICAgIExheWEuUGh5c2ljcy5JLndvcmxkUm9vdCA9IHRoaXMuX2dhbWVCb3g7XHJcbiAgICAgICAgLy/lvIDlp4vmuLjmiI/mjInpkq5cclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zdGFydEdhbWUpO1xyXG4gICAgICAgIC8v56Kw5pKe5qGG5pi+56S6XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmlzZGVidWcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZGVkKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9IFxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIC8v5aaC5p6c5L2N5Zu+5a2X5L2T5Lit77yM5rKh5pS+56m65qC877yM5pyA5aW96K6+572u5LiA5Liq56m65qC85a695bqmXHJcbiAgICAgICAgLy90aGlzLm1CaXRtYXBGb250LnNldFNwYWNlV2lkdGgoMTApO1xyXG4gICAgICAgIExheWEuVGV4dC5yZWdpc3RlckJpdG1hcEZvbnQodGhpcy5tRm9udE5hbWUsdGhpcy5tQml0bWFwRm9udCk7XHJcbiAgICAgICAgdGhpcy5zY29yZV90ZXh0LmZvbnQgPSB0aGlzLm1Gb250TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNjb3JlX3RleHQudGV4dCA9IHRoaXMuc2NvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgaXNkZWJ1Zygpe1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guX2NvbXBvbmVudHNbMF0uaXNkZWJ1ZygpO1xyXG4gICAgfVxyXG4gICAgLyog5byA5aeL5ri45oiPICovXHJcbiAgICBzdGFydEdhbWUoKXtcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlX3RleHQudGV4dCA9IHRoaXMuc2NvcmU7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVUaWx0ZS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lVGlsdGUudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy1pbnRlcmZhY2UvcmFjZS1vdmVyLnBuZ1wiO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guX2NvbXBvbmVudHNbMF0uc3RhcnRHYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog5YGc5q2i5ri45oiPICovXHJcbiAgICBlbmRHYW1lKCkge1xyXG4gICAgICAgIHRoaXMucGxheUJ1dHRvbi52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdhbWVUaWx0ZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAvL3RoaXMuX2NvbnRyb2wuc3RvcEdhbWUoKTtcclxuICAgIH1cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBncm91bmRCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcblxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/lnLDmnb/nsbvlnovliJ3lp4vljJborr7nva4s6ZqP5py66K6+572u57G75Z6L44CCXHJcbiAgICAgICAgLy/kuLrkuoblpJbpg6jmjqfliLblmajog73mj5DliY3ojrflj5bliLDvvIzlnLDmnb/nsbvlnovlv4XpobvlnKjliqDovb3liY0ob25FbmFibGUp5Yid5aeL5YyWXHJcbiAgICAgICAgdmFyIGdyb3VuZF90eXBlQWxsID0gW1wiZ3JlZW5cIixcImJsdWVcIixcIndoaXRlXCIsXCJicm93blwiLFwidGFuXCJdO1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kX3R5cGUgPSBncm91bmRfdHlwZUFsbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGdyb3VuZF90eXBlQWxsLmxlbmd0aCkpXTtcclxuICAgICAgICAvL3RoaXMuZ3JvdW5kX3R5cGUgPSBcInRhblwiO1xyXG4gICAgfVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIC8v5Yqg6L2955u45bqU57G75Z6L55qE5Zyw5p2/5Zu+54mHXHJcbiAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJnYW1lLXRpbGVzL2dyb3VuZC1cIiArIHRoaXMuZ3JvdW5kX3R5cGUgKyBcIi5wbmdcIjtcclxuICAgICAgICAvL+WPjeW8uemAn+W6plxyXG4gICAgICAgIHRoaXMuanVtcF9oZWlnaHQgPSAtMjU7XHJcbiAgICAgICAgdGhpcy5Hcm91bmRUeXBlX29uRW5hYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/pkojlr7nkuI3lkIznsbvlnovnmoTlnLDmnb/ov5vooYzkuI3lkIznmoTliJ3lp4vljJZcclxuICAgIEdyb3VuZFR5cGVfb25FbmFibGUoKXtcclxuICAgICAgICBzd2l0Y2godGhpcy5ncm91bmRfdHlwZSl7XHJcbiAgICAgICAgICAgIGNhc2UgXCJibHVlXCI6XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IC01LCB5OiAwIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJ0YW5cIjpcclxuICAgICAgICAgICAgdGhpcy5hbmlfcGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+mSiOWvueS4jeWQjOexu+Wei+WcsOadv+eahOS4jeWQjOS6i+S7tlxyXG4gICAgICAgIGlmKHRoaXMuZ3JvdW5kX3R5cGUgPT0gXCJibHVlXCIpe1xyXG4gICAgICAgICAgICBpZih0aGlzLm93bmVyLng8PTApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogNSwgeTogMCB9KTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5vd25lci54Pj1MYXlhLnN0YWdlLndpZHRoLXRoaXMub3duZXIud2lkdGgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogLTUsIHk6IDAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmdyb3VuZF90eXBlID09IFwidGFuXCIgJiYgdGhpcy5hbmlfcGxheSl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm93bmVyLnkgPiAtdGhpcy5vd25lci5fcGFyZW50LnkrTGF5YS5zdGFnZS5oZWlnaHQvNCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmlfcGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhbiA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJ0YW5cIiwgdGhpcy5jcmVhdGVUYW4sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGFuLnBvcygwLCAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQodGFuKTtcclxuICAgICAgICAgICAgICAgIHRhbi5wbGF5KDAsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5Zyw5p2/6LaF5Ye65bGP5bmV77yM56e76Zmk5Zyw5p2/XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIueSA+IC10aGlzLm93bmVyLl9wYXJlbnQueStMYXlhLnN0YWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgKSB7XHJcbiAgICAgICAgICAgIGlmKG90aGVyLnJpZ2lkQm9keS5saW5lYXJWZWxvY2l0eS55ID49IDApe1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMuZ3JvdW5kX3R5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGl0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJicm93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBicm93biA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJicm93blwiLCB0aGlzLmNyZWF0ZUJyb3duLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBicm93bi5wb3MoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChicm93bik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd24ucGxheSgwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAxMCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRhblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IHRoaXMuanVtcF9oZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKuS9v+eUqOWvueixoeaxoOWIm+W7umJyb3du5Zyw5p2/5Yqo55S7ICovXHJcbiAgICBjcmVhdGVCcm93bigpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJnYW1lL2dyb3VuZF9icm93bi5hbmlcIik7XHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUE9ORU5UX1JFTU9WRUQsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKSB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYnJvd25cIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcbiAgICAgLyoq5L2/55So5a+56LGh5rGg5Yib5bu6dGFu5Zyw5p2/5Yqo55S7ICovXHJcbiAgICAgY3JlYXRlVGFuKCkge1xyXG4gICAgICAgIGxldCBhbmkgPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBsZXQgTWUgPSB0aGlzO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwiZ2FtZS9ncm91bmRfdGFuLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QT05FTlRfUkVNT1ZFRCwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJ0YW5cIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUExFVEUsIG51bGwsIGNvbXBsZXRlKTtcclxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZSgpe1xyXG4gICAgICAgICAgICBNZS5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/liqjnlLvnu4Tku7bnp7vpmaRcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNoaWxkcmVuKDAsdGhpcy5vd25lci5udW1DaGlsZHJlbi0xKTtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZ3JvdW5kQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBob3BCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7fVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy/op5LoibLpgZPlhbfoo4XlpIfnirbmgIFcclxuICAgICAgICB0aGlzLl9wcm9wID0gMDtcclxuICAgICAgICAvL+inkuiJsuaWueWQkVxyXG4gICAgICAgIHRoaXMuZnggPSBcImxlZnRcIjtcclxuICAgICAgICAvL+i3s+i3g+mrmOW6plxyXG4gICAgICAgIHRoaXMuanVtcF9oZWlnaHQgPSAtMjU7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIC8v6K6+572u5Yid5aeL6YCf5bqmXHJcbiAgICAgICAgdGhpcy5fcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogdGhpcy5qdW1wX2hlaWdodCB9KTtcclxuXHJcbiAgICAgICAgLy/pmYDonrrku6pcclxuICAgICAgICBMYXlhLkd5cm9zY29wZS5pbnN0YW5jZS5vbihMYXlhLkV2ZW50LkNIQU5HRSwgdGhpcywgdGhpcy5vbkRldmljZW9yaWVudGF0aW9uKTtcclxuICAgICAgICAvL+W+ruS/oeWwj+eoi+W6j+eJiOeahOmZgOieuuS7qlxyXG4gICAgICAgIGlmKHR5cGVvZiB3eCAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHd4LnN0YXJ0QWNjZWxlcm9tZXRlcih7aW50ZXJ2YWw6ICdnYW1lJ30pO1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICB3eC5vbkFjY2VsZXJvbWV0ZXJDaGFuZ2UoZnVuY3Rpb24ocm90YXRpb25JbmZvKXtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gcm90YXRpb25JbmZvLngqMzA7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5meCA9IFZlbG9jaXR5X3ggID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgdmFyIG93bmVyID0gdGhpcy5vd25lcjtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwiZ3JvdW5kQm94XCIpIHtcclxuICAgICAgICAgICAgLy/kuIvokL3ov4fnqIvkuK3nmoTnorDmkp7lpITnkIZcclxuICAgICAgICAgICAgaWYodGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImhvcC9ob3AtXCIgKyB0aGlzLmZ4ICsgXCItdG91Y2gucG5nXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLm93bmVyLng+TGF5YS5zdGFnZS53aWR0aCl0aGlzLm93bmVyLng9LXRoaXMub3duZXIud2lkdGg7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLm93bmVyLng8LXRoaXMub3duZXIud2lkdGgpdGhpcy5vd25lci54ID0gTGF5YS5zdGFnZS53aWR0aDtcclxuICAgICAgICBpZih0aGlzLm93bmVyLnkgPiAgKC10aGlzLm93bmVyLl9wYXJlbnQuX3kgKyBMYXlhLnN0YWdlLmhlaWdodCkpe1xyXG4gICAgICAgICAgICBHYW1lQ29udHJvbC5pbnN0YW5jZS5lbmRHYW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy50eXBlID0gJ2tpbmVtYXRpYyc7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55ID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiaG9wL2hvcC1cIiArIHRoaXMuZnggKyBcIi1mYWxsLnBuZ1wiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImhvcC9ob3AtXCIgKyB0aGlzLmZ4ICsgXCItanVtcC5wbmdcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXZpY2VvcmllbnRhdGlvbihhYnNvbHV0ZSwgcm90YXRpb25JbmZvKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uSW5mby5hbHBoYSA9PT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCLlvZPliY3orr7lpIfkuI3mlK/mjIHpmYDonrrku6rjgIJcIik7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSAocm90YXRpb25JbmZvLmdhbW1hKS85MCozMDtcclxuICAgICAgICAgICAgdGhpcy5meCA9IFZlbG9jaXR5X3ggID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbGlrQm94IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IoKXtzdXBlcigpO31cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v6KeS6Imy6YGT5YW36KOF5aSH54q25oCBXHJcbiAgICAgICAgdGhpcy5fcHJvcCA9IDA7XHJcbiAgICAgICAgLy/op5LoibLmlrnlkJFcclxuICAgICAgICB0aGlzLmZ4ID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgdGhpcy5saWtfcmlnaHQgPSBcImxpay9saWstcmlnaHQucG5nXCI7XHJcbiAgICAgICAgdGhpcy5saWtfbGVmdCA9IFwibGlrL2xpay1sZWZ0LnBuZ1wiO1xyXG4gICAgICAgIC8v6Lez6LeD6auY5bqmXHJcbiAgICAgICAgdGhpcy5qdW1wX2hlaWdodCA9IC0yNTtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgLy/orr7nva7liJ3lp4vpgJ/luqZcclxuICAgICAgICB0aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiB0aGlzLmp1bXBfaGVpZ2h0IH0pO1xyXG4gICAgICAgIC8v6K6w5b2V6byg5qCH56e75Yqo5YmN55qE5L2N572uXHJcbiAgICAgICAgdGhpcy5ub3dfbW91c2VfeCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8v6ZmA6J665LuqXHJcbiAgICAgICAgTGF5YS5HeXJvc2NvcGUuaW5zdGFuY2Uub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25EZXZpY2VvcmllbnRhdGlvbik7XHJcbiAgICAgICAgLy/lvq7kv6HlsI/nqIvluo/niYjnmoTpmYDonrrku6pcclxuICAgICAgICBpZih0eXBlb2Ygd3ggIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB3eC5zdGFydEFjY2VsZXJvbWV0ZXIoe2ludGVydmFsOiAnZ2FtZSd9KTtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgd3gub25BY2NlbGVyb21ldGVyQ2hhbmdlKGZ1bmN0aW9uKHJvdGF0aW9uSW5mbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHJvdGF0aW9uSW5mby54KjMwO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZnggPSBWZWxvY2l0eV94ICA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcclxuICAgICAgICAgICAgICAgIC8vaW5zdGFuY2Uub3duZXIuc2tld1kgPSBWZWxvY2l0eV94ICA+IDAgPyAxODAgOiAwO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uub3duZXIudGV4dHVyZSA9IFZlbG9jaXR5X3ggID4gMCA/IGluc3RhbmNlLmxpa19yaWdodCA6IGluc3RhbmNlLmxpa19sZWZ0O1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9yaWcubGluZWFyVmVsb2NpdHkgPSBWZWxvY2l0eTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgdmFyIG93bmVyID0gdGhpcy5vd25lcjtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwiZ3JvdW5kQm94XCIpIHtcclxuICAgICAgICAgICAgLy/kuIvokL3ov4fnqIvkuK3nmoTnorDmkp7lpITnkIZcclxuICAgICAgICAgICAgaWYodGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImxpay9saWstXCIgKyB0aGlzLmZ4ICsgXCItb2Rza29rLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLl9yaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiB0aGlzLmp1bXBfaGVpZ2h0IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBvblN0YWdlTW91c2VEb3duKCl7XHJcbiAgICAgICAgdGhpcy5ub3dfbW91c2VfeCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3RhZ2VNb3VzZVVwKCl7XHJcbiAgICAgICAgdGhpcy5ub3dfbW91c2VfeCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAqL1xyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5vd25lci54PkxheWEuc3RhZ2Uud2lkdGgpdGhpcy5vd25lci54PS10aGlzLm93bmVyLndpZHRoO1xyXG4gICAgICAgIGVsc2UgaWYodGhpcy5vd25lci54PC10aGlzLm93bmVyLndpZHRoKXRoaXMub3duZXIueCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgaWYodGhpcy5vd25lci55ID4gICgtdGhpcy5vd25lci5fcGFyZW50LnkgKyBMYXlhLnN0YWdlLmhlaWdodCkpe1xyXG4gICAgICAgICAgICBHYW1lQ29udHJvbC5pbnN0YW5jZS5lbmRHYW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy50eXBlID0gJ2tpbmVtYXRpYyc7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IDEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgLy/pvKDmoIfmjqfliLbmlrnlkJFcclxuICAgICAgICBpZih0aGlzLm5vd19tb3VzZV94ICE9IG51bGwpe1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS54ICsgKExheWEuc3RhZ2UubW91c2VYLXRoaXMubm93X21vdXNlX3gpL0xheWEuc3RhZ2Uud2lkdGgqMzA7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFZlbG9jaXR5X3ggID4gMCA/IHRoaXMubGlrX3JpZ2h0IDogdGhpcy5saWtfbGVmdDtcclxuICAgICAgICAgICAgbGV0IFZlbG9jaXR5ID0geyB4OiBWZWxvY2l0eV94LCB5OiB0aGlzLl9yaWcubGluZWFyVmVsb2NpdHkueSB9O1xyXG4gICAgICAgICAgICB0aGlzLm5vd19tb3VzZV94ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGV2aWNlb3JpZW50YXRpb24oYWJzb2x1dGUsIHJvdGF0aW9uSW5mbykge1xyXG4gICAgICAgIGlmIChyb3RhdGlvbkluZm8uYWxwaGEgPT09IG51bGwpXHJcblx0XHR7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwi5b2T5YmN6K6+5aSH5LiN5pSv5oyB6ZmA6J665Luq44CCXCIpO1xyXG5cdFx0fWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gKHJvdGF0aW9uSW5mby5nYW1tYSkvOTAqMzA7XHJcbiAgICAgICAgICAgIHRoaXMuZnggPSBWZWxvY2l0eV94ICA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcclxuICAgICAgICAgICAgLy90aGlzLm93bmVyLnNrZXdZID0gVmVsb2NpdHlfeCAgPiAwID8gMTgwIDogMDtcclxuICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gVmVsb2NpdHlfeCAgPiAwID8gdGhpcy5saWtfcmlnaHQgOiB0aGlzLmxpa19sZWZ0O1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpldHBhY2tCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+mBk+WFt+exu+Wei+WIneWni+WMluiuvue9rizpmo/mnLrorr7nva7nsbvlnovjgIJcclxuICAgICAgICAvL+S4uuS6huWklumDqOaOp+WItuWZqOiDveaPkOWJjeiOt+WPluWIsO+8jOmBk+WFt+exu+Wei+W/hemhu+WcqOWKoOi9veWJjShvbkVuYWJsZSnliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmdyb3VuZF90eXBlID0gXCJqZXRwYWNrXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICB0aGlzLl9maXJzdCA9IHRydWU7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMuX3JpZy50eXBlID0gXCJzdGF0aWNcIjtcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1qZXRwYWNrLnBuZ1wiO1xyXG4gICAgICAgIC8v6ZmA6J665LuqXHJcbiAgICAgICAgTGF5YS5HeXJvc2NvcGUuaW5zdGFuY2Uub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25EZXZpY2VvcmllbnRhdGlvbik7XHJcbiAgICAgICAgLy/lvq7kv6HlsI/nqIvluo/niYjnmoTpmYDonrrku6pcclxuICAgICAgICBpZih0eXBlb2Ygd3ggIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB3eC5zdGFydEFjY2VsZXJvbWV0ZXIoe2ludGVydmFsOiAnZ2FtZSd9KTtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgd3gub25BY2NlbGVyb21ldGVyQ2hhbmdlKGZ1bmN0aW9uKHJvdGF0aW9uSW5mbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IHJvdGF0aW9uSW5mby54KjMwO1xyXG4gICAgICAgICAgICAgICAgaWYoVmVsb2NpdHlfeCAgPiAwICYmICFpbnN0YW5jZS5fZmlyc3QpIGluc3RhbmNlLmlzUmlnaHQoKTsgZWxzZSBpbnN0YW5jZS5pc0xlZnQoKTtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWcsOadv+i2heWHuuWxj+W5le+8jOWImeenu+mZpOWcsOadv1xyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPiAtdGhpcy5vd25lci5fcGFyZW50LnkrTGF5YS5zdGFnZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0ICYmIG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgJiYgb3RoZXIub3duZXIuX2NvbXBvbmVudHNbMV0uX3Byb3AgPT0gMCkge1xyXG4gICAgICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBsZXQgamV0cGFjayA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJqZXRwYWNrXCIsIHRoaXMuY3JlYXRlSmV0cGFjaywgdGhpcyk7XHJcbiAgICAgICAgICAgIGpldHBhY2sucG9zKDAsIDApO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGpldHBhY2spO1xyXG4gICAgICAgICAgICBqZXRwYWNrLnBsYXkoMCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgNzA7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueSA9IG90aGVyLm93bmVyLnkgKyAyNjtcclxuXHJcbiAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS5zZXRWZWxvY2l0eSh7eCA6IDAgLCB5IDogMH0pO1xyXG4gICAgICAgICAgICBvdGhlci5yaWdpZEJvZHkudHlwZSA9IFwia2luZW1hdGljXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy50eXBlID0gXCJraW5lbWF0aWNcIjtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhvdGhlci5vd25lciwge3kgOiBvdGhlci5vd25lci55IC0gNDAwMH0sIDgwMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy50d2VlbkVuZCxbb3RoZXJdKSk7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5vd25lciwge3kgOiB0aGlzLm93bmVyLnkgLSA0MDAwfSwgODAwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLnR3ZWVuRW5kMixbdGhpc10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSmV0cGFjaygpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJnYW1lL3Byb3BfamV0cGFjay5hbmlcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUE9ORU5UX1JFTU9WRUQsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKSB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiamV0cGFja1wiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTGVmdCgpe1xyXG4gICAgICAgIHRoaXMub3duZXIuc2tld1kgPSAwO1xyXG4gICAgICAgIC8vdGhpcy5vd25lci54ID0gb3RoZXIub3duZXIueCArIDcwO1xyXG4gICAgfVxyXG4gICAgaXNSaWdodCgpe1xyXG4gICAgICAgIHRoaXMub3duZXIuc2tld1kgPSAxODA7XHJcbiAgICAgICAgLy90aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgNTI7XHJcbiAgICB9XHJcblxyXG4gICAgdHdlZW5FbmQob3RoZXIpe1xyXG4gICAgICAgIG90aGVyLnJpZ2lkQm9keS50eXBlID0gXCJkeW5hbWljXCI7XHJcbiAgICAgICAgb3RoZXIub3duZXIuX2NvbXBvbmVudHNbMV0uX3Byb3AgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHR3ZWVuRW5kMihtZSl7XHJcbiAgICAgICAgLy/liqjnlLvnu4Tku7bnp7vpmaRcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNoaWxkcmVuKDAsdGhpcy5vd25lci5udW1DaGlsZHJlbi0xKTtcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1qZXRwYWNrLTEwLnBuZ1wiO1xyXG4gICAgICAgIG1lLl9yaWcudHlwZSA9IFwiZHluYW1pY1wiO1xyXG4gICAgICAgIExheWEuVHdlZW4udG8obWUub3duZXIsIHtyb3RhdGlvbiA6IDM2MH0sIDIwMDApO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJKZXRwYWNrQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGV2aWNlb3JpZW50YXRpb24oYWJzb2x1dGUsIHJvdGF0aW9uSW5mbykge1xyXG4gICAgICAgIGlmIChyb3RhdGlvbkluZm8uYWxwaGEgPT09IG51bGwpXHJcblx0XHR7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwi5b2T5YmN6K6+5aSH5LiN5pSv5oyB6ZmA6J665Luq44CCXCIpO1xyXG5cdFx0fWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eV94ID0gKHJvdGF0aW9uSW5mby5nYW1tYSkvOTAqMzA7XHJcbiAgICAgICAgICAgIGlmKFZlbG9jaXR5X3ggID4gMCAmJiAhdGhpcy5fZmlyc3QpIHRoaXMuaXNSaWdodCgpOyBlbHNlIHRoaXMuaXNMZWZ0KCk7XHJcbiAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5LnkgfTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVsbGVyQm94IGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/pgZPlhbfnsbvlnovliJ3lp4vljJborr7nva4s6ZqP5py66K6+572u57G75Z6L44CCXHJcbiAgICAgICAgLy/kuLrkuoblpJbpg6jmjqfliLblmajog73mj5DliY3ojrflj5bliLDvvIzpgZPlhbfnsbvlnovlv4XpobvlnKjliqDovb3liY0ob25FbmFibGUp5Yid5aeL5YyWXHJcbiAgICAgICAgdGhpcy5ncm91bmRfdHlwZSA9IFwicHJvcGVsbGVyXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICB0aGlzLl9maXJzdCA9IHRydWU7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMuX3JpZy50eXBlID0gXCJzdGF0aWNcIjtcclxuICAgICAgICAvL+mZgOieuuS7qlxyXG4gICAgICAgIExheWEuR3lyb3Njb3BlLmluc3RhbmNlLm9uKExheWEuRXZlbnQuQ0hBTkdFLCB0aGlzLCB0aGlzLm9uRGV2aWNlb3JpZW50YXRpb24pO1xyXG4gICAgICAgIC8v5b6u5L+h5bCP56iL5bqP54mI55qE6ZmA6J665LuqXHJcbiAgICAgICAgaWYodHlwZW9mIHd4ICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgd3guc3RhcnRBY2NlbGVyb21ldGVyKHtpbnRlcnZhbDogJ2dhbWUnfSk7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHd4Lm9uQWNjZWxlcm9tZXRlckNoYW5nZShmdW5jdGlvbihyb3RhdGlvbkluZm8pe1xyXG4gICAgICAgICAgICAgICAgbGV0IFZlbG9jaXR5X3ggPSByb3RhdGlvbkluZm8ueCozMDtcclxuICAgICAgICAgICAgICAgIGxldCBWZWxvY2l0eSA9IHsgeDogVmVsb2NpdHlfeCwgeTogaW5zdGFuY2UuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fcmlnLmxpbmVhclZlbG9jaXR5ID0gVmVsb2NpdHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWcsOadv+i2heWHuuWxj+W5le+8jOWImeenu+mZpOWcsOadv1xyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPiAtdGhpcy5vd25lci5fcGFyZW50LnkrTGF5YS5zdGFnZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0ICYmIG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgJiYgb3RoZXIub3duZXIuX2NvbXBvbmVudHNbMV0uX3Byb3AgPT0gMCkge1xyXG4gICAgICAgICAgICBvdGhlci5vd25lci5fY29tcG9uZW50c1sxXS5fcHJvcCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvcGVsbGVyID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcInByb3BlbGxlclwiLCB0aGlzLmNyZWF0ZVByb3BlbGxlciwgdGhpcyk7XHJcbiAgICAgICAgICAgIHByb3BlbGxlci5wb3MoMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuYWRkQ2hpbGQocHJvcGVsbGVyKTtcclxuICAgICAgICAgICAgcHJvcGVsbGVyLnBsYXkoMCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnggPSBvdGhlci5vd25lci54ICsgMjk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueSA9IG90aGVyLm93bmVyLnkgLTE4O1xyXG5cclxuICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHt4IDogMCAsIHkgOiAwfSk7XHJcbiAgICAgICAgICAgIG90aGVyLnJpZ2lkQm9keS50eXBlID0gXCJraW5lbWF0aWNcIjtcclxuICAgICAgICAgICAgdGhpcy5fcmlnLnR5cGUgPSBcImtpbmVtYXRpY1wiO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKG90aGVyLm93bmVyLCB7eSA6IG90aGVyLm93bmVyLnkgLSAyMDAwfSwgNDAwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLnR3ZWVuRW5kLFtvdGhlcl0pKTtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLm93bmVyLCB7eSA6IHRoaXMub3duZXIueSAtIDIwMDB9LCA0MDAwLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMudHdlZW5FbmQyLFt0aGlzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQcm9wZWxsZXIoKSB7XHJcbiAgICAgICAgbGV0IGFuaSA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwiZ2FtZS9wcm9wX3Byb3BlbGxlci5hbmlcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUE9ORU5UX1JFTU9WRUQsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKSB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwicHJvcGVsbGVyXCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgdHdlZW5FbmQob3RoZXIpe1xyXG4gICAgICAgIG90aGVyLnJpZ2lkQm9keS50eXBlID0gXCJkeW5hbWljXCI7XHJcbiAgICAgICAgb3RoZXIub3duZXIuX2NvbXBvbmVudHNbMV0uX3Byb3AgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHR3ZWVuRW5kMihtZSl7XHJcbiAgICAgICAgLy/liqjnlLvnu4Tku7bnp7vpmaRcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNoaWxkcmVuKDAsdGhpcy5vd25lci5udW1DaGlsZHJlbi0xKTtcclxuICAgICAgICB0aGlzLm93bmVyLnRleHR1cmUgPSBcImdhbWUtdGlsZXMvcHJvcC1wcm9wZWxsZXIucG5nXCI7XHJcbiAgICAgICAgbWUuX3JpZy50eXBlID0gXCJkeW5hbWljXCI7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhtZS5vd25lciwge3JvdGF0aW9uIDogMzYwfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcIlByb3BlbGxlckJveFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRldmljZW9yaWVudGF0aW9uKGFic29sdXRlLCByb3RhdGlvbkluZm8pIHtcclxuICAgICAgICBpZiAocm90YXRpb25JbmZvLmFscGhhID09PSBudWxsKVxyXG5cdFx0e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIuW9k+WJjeiuvuWkh+S4jeaUr+aMgemZgOieuuS7quOAglwiKTtcclxuXHRcdH1lbHNle1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHlfeCA9IChyb3RhdGlvbkluZm8uZ2FtbWEpLzkwKjMwO1xyXG4gICAgICAgICAgICBsZXQgVmVsb2NpdHkgPSB7IHg6IFZlbG9jaXR5X3gsIHk6IHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eS55IH07XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZy5saW5lYXJWZWxvY2l0eSA9IFZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcmluZ0JveCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6YGT5YW357G75Z6L5Yid5aeL5YyW6K6+572uLOmaj+acuuiuvue9ruexu+Wei+OAglxyXG4gICAgICAgIC8v5Li65LqG5aSW6YOo5o6n5Yi25Zmo6IO95o+Q5YmN6I635Y+W5Yiw77yM6YGT5YW357G75Z6L5b+F6aG75Zyo5Yqg6L295YmNKG9uRW5hYmxlKeWIneWni+WMllxyXG4gICAgICAgIHRoaXMuZ3JvdW5kX3R5cGUgPSBcInNwcmluZ1wiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMub3duZXIudGV4dHVyZSA9IFwiZ2FtZS10aWxlcy9wcm9wLVNwcmluZy1Db21wcmVzc2lvbi5wbmdcIjtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWcsOadv+i2heWHuuWxj+W5le+8jOWImeenu+mZpOWcsOadv1xyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPiAtdGhpcy5vd25lci5fcGFyZW50LnkrTGF5YS5zdGFnZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcInByb3RhZ29uaXN0XCIgKSB7XHJcbiAgICAgICAgICAgIGlmKG90aGVyLnJpZ2lkQm9keS5saW5lYXJWZWxvY2l0eS55ID49IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lci50ZXh0dXJlID0gXCJnYW1lLXRpbGVzL3Byb3AtU3ByaW5nLUV4dGVuZGVkLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgb3RoZXIucmlnaWRCb2R5LnNldFZlbG9jaXR5KHt4IDogMCAsIHkgOiAtNDB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcIlNwcmluZ0JveFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG52YXIgQ0xBU1MkPUxheWEuY2xhc3M7XHJcbnZhciBTVEFUSUNBVFRSJD1MYXlhLnN0YXRpYztcclxudmFyIFZpZXc9bGF5YS51aS5WaWV3O1xyXG52YXIgRGlhbG9nPWxheWEudWkuRGlhbG9nO1xyXG52YXIgU2NlbmU9TGF5YS5TY2VuZTtcclxuaWYoIXdpbmRvdy51aSkgd2luZG93LnVpPXt9O1xyXG5leHBvcnQge3VpIGFzIGRlZmF1bHR9OyJdfQ==
